"use strict";function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,a){var o=e&&e.prototype instanceof d?e:d,r=Object.create(o.prototype),i=new C(a||[]);return r._invoke=function(t,e,n){var a="suspendedStart";return function(o,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw r;return N()}for(n.method=o,n.arg=r;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),r}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function d(){}function f(){}function p(){}var g={};l(g,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==e&&n.call(v,o)&&(g=v);var h=p.prototype=d.prototype=Object.create(g);function y(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var a;this._invoke=function(o,r){function i(){return new e(function(a,i){!function a(o,r,i,l){var s=c(t[o],t,r);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==_typeof(d)&&n.call(d,"__await")?e.resolve(d.__await).then(function(t){a("next",t,i,l)},function(t){a("throw",t,i,l)}):e.resolve(d).then(function(t){u.value=t,i(u)},function(t){return a("throw",t,i,l)})}l(s.arg)}(o,r,a,i)})}return a=a?a.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,u;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=p,l(h,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,i,"GeneratorFunction")),t.prototype=Object.create(h),t},t.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,r,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,a,o,r){void 0===r&&(r=Promise);var i=new b(s(e,n,a,o),r);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},y(h),l(h,i,"Generator"),l(h,o,function(){return this}),l(h,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},t.values=k,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return i.type="throw",i.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],i=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),s=n.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var o=a.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}define([],function(){!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==_typeof(t)&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(a,o,function(e){return t[e]}.bind(null,o));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=11)}([function(e,t,a){function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var a in t)0<=e.indexOf(a)||Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},d=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),c=a(2),p=n(c),g=a(6),u=n(g),m=a(17),f=n(m),h=a(18),y=n(h),v=a(19),b=n(v),S=a(5),w=n(S),E=a(3),C=a(1),k=a(7),N=n(k),x=function(){function e(){var t;r(this,e),this.stages=new Map,this.rows=new Map,this.columns=new Map,this.fields=new Map,this.styleSheet=((t=document.createElement("style")).setAttribute("media","screen"),t.setAttribute("type","text/css"),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet)}return d(e,[{key:"processTagName",value:function(t){var e;if("string"==typeof t&&(t={tag:e=t}),t.attrs){var n=t.attrs.tag;if(n){var a=n.filter(function(t){return!0===t.selected});a.length&&(e=a[0].value)}}return t.tag=e||t.tag,t}},{key:"getWrapperClass",value:function(t){return"g-recaptcha"==p.default.get(t,"className")?"g-recaptcha-wrapper":"textarea"==t.tag||"select"==t.tag?t.tag+"-wrapper":"input"==t.tag?"radio"==t.attrs.type||"checkbox"==t.attrs.type?"":"input-"+t.attrs.type+"-wrapper":""}},{key:"missingFormControlClass",value:function(t){var e=t.tag,n=p.default.get(t,"attrs.className")||"";return-1!==["input","textarea","select"].indexOf(e)&&-1===n.indexOf("form-control")&&(Array.isArray(n)?n.push("form-control"):n+=" form-control",p.default.set(t,"attrs.className",n)),t}},{key:"processClass",value:function(t){return void 0!==t.attrs&&void 0!==t.attrs.class&&(void 0===t.attrs.className?t.attrs.className=(0,C.clone)(t.attrs.class):Array.isArray(t.attrs.className)?t.attrs.className.push((0,C.clone)(t.attrs.class)):t.attrs.className+=" "+(0,C.clone)(t.attrs.class),delete t.attrs.class),t}},{key:"create",value:function value(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=this;e=a.processClass(e),e=a.processTagName(e);var n=void 0,o=e,l=o.tag,r=[],s=void 0,i="",d=this.getFormSettings();i=d.form["display-label"].value,"top"===i?i="":"left"===i&&(i=" single-line");var c={tag:"div",attrs:{},className:[p.default.get(e,"config.inputWrap")||"f-field-group "+i+" "+this.getWrapperClass(e)],content:[],config:{}},g={tag:"span",className:"text-error",content:"*"},u=document.createElement(l),m=p.default.get(e,"attrs.required"),f={string:function(t){u.innerHTML+=t},object:function(t){return u.appendChild(a.create(t))},node:function(t){return u.appendChild(t)},array:function(t){for(var e=0;e<t.length;e++)n=a.contentType(t[e]),f[n](t[e])},function:function(t){t=t(),n=a.contentType(t),f[n](t)},undefined:function(){return null}};if(r.push("tag"),p.default.get(e,"attrs")||(e.attrs={}),e.className&&(e.attrs.className=e.className,delete e.className),e.attrs&&e.attrs.id&&(e.id=e.attrs.id),(null==p.default.get(e,"attrs.name")||""==p.default.get(e,"attrs.name"))&&(e.attrs.name=e.id),e.options){var h=e,y=h.options;if("input"===e.tag&&("radio"===e.attrs.type||"checkbox"===e.attrs.type)&&p.default.forEach(y,function(t){t.name=e.attrs.name}),y=this.processOptions(y,e,t),!this.holdsContent(u)||"button"===l)return p.default.forEach(y,function(e){c.content.push(a.create(e,t))}),c.config=Object.assign({},e.config),m&&(c.attrs.required=m),this.create(c,t);f.array.call(this,y),delete e.content,r.push("options")}if(e.config){var v=e.config.editable&&t;if(p.default.get(e,"config.recaptcha")&&"string"==typeof e.attrs.className&&(e.attrs.className=e.attrs.className.replaceAll("-preview","")),p.default.get(e,"config.recaptcha")&&!t){var b=3,S=function t(){Object.prototype.hasOwnProperty.call(window,"grecaptcha")&&Object.prototype.hasOwnProperty.call(window.grecaptcha,"render")?window.grecaptcha.render(u,{sitekey:a.sitekey,callback:function(t){t&&document.querySelector(".g-recaptcha-error").classList.remove("show")}}):0==--b?u.querySelector(".g-recaptcha").innerHTML=(0,C.getString)("efb-google-recaptcha-not-loaded"):setTimeout(t,1e3)};S()}if(e.config.label&&"button"!==l){var w=null;t?w=a.label(e,"config.label"):(void 0===e.attrs.placeholder&&(e.attrs.placeholder="label"in e.config?e.config.label:""),w=a.label(e)),m&&(w=[w,g]),e.config.hideLabel?v&&(u.contentEditable=!0,a.labelAfter(e)?(c.className="f-"+e.attrs.type,w.insertBefore(u,w.firstChild),c.content.push(w)):(c.content.push(w),c.content.push(u))):a.labelAfter(e)?(c.className="f-"+e.attrs.type,w.insertBefore(u,w.firstChild),c.content.push(w)):(c.content.push(w),c.content.push(u))}else v&&(u.contentEditable=!0);r.push("config")}if(e=this.missingFormControlClass(e),e.attrs&&(a.processAttrs(e,u,t),r.push("attrs")),e.content&&(n=a.contentType(e.content),f[n].call(this,e.content),r.push("content")),e.dataset){for(var E in e.dataset)Object.prototype.hasOwnProperty.call(e.dataset,E)&&(u.dataset[E]=e.dataset[E]);r.push("dataset")}if(e.action){var k=Object.keys(e.action),N=function(t){setTimeout(function(){t(u)},10)};for(s=k.length-1;0<=s;s--){var x=k[s],D=e.action[x];"string"==typeof D&&(D=eval("("+e.action[x]+")"));var T=["focus","blur"];if("onRender"===x)N(D);else{var _=p.default.inArray(x,T);u.addEventListener(x,D,_)}}r.push("action")}var A=["stage","row","column","field"];if(p.default.inArray(e.fType,A)){var L=e.fType+"Data";u[L]=e,"fieldData"==L&&(u.panelNav=e.panelNav),r.push(L)}var O=p.default.subtract(r,Object.keys(e));for(s=O.length-1;0<=s;s--)u[O[s]]=e[O[s]];return c.content.length&&(u=this.create(c)),u}},{key:"icon",value:function(t){return document.getElementById("icon-"+t)?'<svg class="svg-icon svg-icon-'+t+'"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-'+t+'"></use></svg>':'<span class="fa fa-'+t+'" aria-hidden="true"></span>'}},{key:"processAttrs",value:function(t,e,n){var a=t.attrs,o=void 0===a?{}:a;n||o.name||!this.isInput(t.tag)||e.setAttribute("name",(0,C.uuid)(t)),Object.keys(o).forEach(function(t){var n=p.default.safeAttrName(t);if("tag"!==n){var a=o[t]||"";if(Array.isArray(a))if("object"===s(a[0])){var r=a.filter(function(t){return!0===t.selected});a=r.length?r[0].value:a[0].value}else a=a.join(" ");a&&(e.attributes[n]=a,e.setAttribute(n,a))}})}},{key:"checkbox",value:function(t){return{tag:"label",attrs:{},content:[t,{tag:"span",className:"checkable",content:p.default.get(t,"elem.config.label")||""}]}}},{key:"processOptions",value:function(t,e,n){var a=e.action,o=e.attrs,r=o.type||e.tag,i=o.id||e.id;return t.map(function(t,l){var s=function(){var s={tag:"input",attrs:(0,C.clone)(o),action:a};delete s.attrs.className,s.attrs.id=i+"-"+l,s.attrs.type=r,s.attrs.value=t.value||"";var c=[{tag:"span",className:"checkable"},{tag:"span",className:"checkable-label",content:t.label}],u={tag:"label",attrs:{},config:{inputWrap:"form-check"},content:[t.label]},d={tag:"div",content:[u],className:["f-"+r]};if(e.attrs.className&&(e.config.inputWrap=e.attrs.className),e.config.inline?d.className.push("f-${fieldType}-inline"):e.config.inputWrap="f-"+r+"-group",t.selected&&(s.attrs.checked=!0),"input"===e.tag&&("radio"===e.attrs.type||"checkbox"===e.attrs.type)&&(s.attrs.name=e.attrs.name),n){s.fMap="options["+l+"].selected",u.attrs.contenteditable=!0,u.fMap="options["+l+"].label",c[1].content=void 0;var f={tag:"label",content:[s,c]};d.content.unshift(f)}else u.content=c,u=D.create(u),s=D.create(s),u.insertBefore(s,u.firstChild),d.content=u;return d};return{select:function(){return{tag:"option",attrs:t,content:t.label}},button:function(t){var n=t.type,a=t.label,o=t.className,r=t.id;return Object.assign({},e,{attrs:{type:n},className:o,id:r||(0,C.uuid)(),options:void 0,content:a,action:e.action})},checkbox:s,radio:s,datalist:function(){return{tag:"option",attrs:{value:t.value},content:t.value}}}[r](t)})}},{key:"holdsContent",value:function(t){return-1!==t.outerHTML.indexOf("/")}},{key:"isBlockInput",value:function(t){return!this.isInput(t)&&this.holdsContent(t)}},{key:"isInput",value:function(t){return"string"!=typeof t&&(t=t.tagName),-1!==["input","textarea","select"].indexOf(t)}},{key:"parsedHtml",value:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.textContent}},{key:"labelAfter",value:function(t){var e=p.default.get(t,"attrs.type");return"checkbox"===e||"radio"===e||p.default.get(t,"config.labelAfter")}},{key:"label",value:function(t,e){var n={tag:"label",attrs:{},className:["control-label"],content:p.default.isHtml(t.config.label)?p.default.stripHtml(t.config.label):t.config.label,action:{}};if(this.labelAfter(t)){var a={tag:"span",className:"checkable",content:t.config.label};n.content=a}return t.id&&(n.attrs.for=t.id),e&&(delete n.attrs.for,n.attrs.contenteditable=!0,n.fMap=e),D.create(n)}},{key:"contentType",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=void 0===t?"undefined":s(t);return null!==e&&-1!==["style"].indexOf(e)?n="textarea":t instanceof Node||t instanceof HTMLElement?n="node":Array.isArray(t)&&(n="array"),n}},{key:"getStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=void 0;return window.getComputedStyle?n=window.getComputedStyle(t,null):t.currentStyle&&(n=t.currentStyle),e?n[e]:n}},{key:"repositionPanels",value:function(t){var e=t.querySelectorAll(".panel-labels .active-tab"),n=void 0;e.forEach(function(t){n=new CustomEvent("click",{target:t}),setTimeout(function(){t.dispatchEvent(n)},500)})}},{key:"resizeTabContainer",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"list",n=(0,C.closest)(t,"panel-tab-"+e);n&&(n.parentElement.style.height="auto")}},{key:"getSettingItem",value:function(t,e,n,a){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;null===o&&(o=a);var i={tag:"li",className:o+"-wrap setting-wrap",content:[{tag:"h5",className:o+"-label setting-label",content:e.title}]},l={tag:"div",attrs:{className:o+"-inputs setting-inputs"},content:[]},s=(0,C.uuid)(),c={tag:"input",attrs:{id:s,className:o+"-input setting-input",value:e.value},action:{change:function(e){var n=E.formData.settings.get(a),o=(0,C.elementTagType)(e.target),i=e.target,l=i.value;switch(o.tag){case"INPUT":switch(o.type){case"checkbox":n[r][t].value=i.checked;break;default:null===r?n[t].value=l:n[r][t].value=l}break;default:null===r?n[t].value=l:n[r][t].value=l}i.previousSibling?i.previousSibling.value=l:i.nextSibling&&(i.nextSibling.value=l),E.formData.settings.set(a,n),E.data.save()}}};switch(e.type){case"color":l.content.push({tag:"input",attrs:{className:o+"-input setting-input color-group",type:"text",value:e.value},action:{change:function(t){var e=t.target;e.nextSibling.value=e.value;var n=new CustomEvent("change",{target:e.nextSibling});e.nextSibling.dispatchEvent(n)}}}),c.attrs.className+=" color-group",c.attrs.type=e.type;break;case"text":case"number":c.attrs.type=e.type;break;case"range":c.action.mousemove=c.action.change,c.action.touchmove=c.action.change,c.action.pointermove=c.action.change,c.attrs.className+=" range-group",c.attrs.type=e.type,c.attrs=p.default.merge(c.attrs,e.attrs);break;case"select":c.tag="select",c.options=[],Object.values(e.options).forEach(function(t){t.selected=t.value===e.value,c.options.push(t)});break;case"textarea":c.tag="textarea",c.cols=5,c.content=e.value,"style"===e.id&&(c.placeholder=(0,C.getString)("placeholder.style"));break;case"toggle":c.attrs.className+=" toggle-group",c.tag="input",c.type="checkbox",c.checked=e.value;break;default:c.attrs.type="text"}switch(l.content.push(c),e.type){case"range":l.content.push({tag:"input",attrs:{className:o+"-input setting-input range-group",type:"text",value:e.value},action:{change:function(t){var e=t.target;e.previousSibling.value=e.value;var n=new CustomEvent("change",{target:e.previousSibling});e.previousSibling.dispatchEvent(n)}}});break;case"toggle":l.content.push({tag:"label",attrs:{className:"bg-primary",for:s}})}var u={tag:"div",attrs:{className:o+"-control setting-control"},content:[{tag:"button",attrs:{class:o+"-default setting-default btn",type:"button","data-key":e.value,title:(0,C.getString)("restore-previous")},action:{click:function(e){var n=e.target,o=E.formData.settings.get(a);n.classList.contains("restore-default")&&(n=n.parentElement);var i=n.parentElement.previousSibling.childNodes[0],l=(0,C.elementTagType)(i),s=n.getAttribute("data-key"),c=void 0,u=void 0,d=void 0;switch(l.tag){case"SELECT":for(c=i.childNodes,d=0;u=c[d];d++)if(u.value===s){i.selectedIndex=d;break}null===r?o[t].value=s:o[r][t].value=s;break;case"INPUT":switch(l.type){case"checkbox":i.checked="on"===s;break;default:i.value=s,null===r?o[t].value=s:o[r][t].value=s}break;default:i.value=s,null===r?o[t].value=s:o[r][t].value=s}var f=new CustomEvent("change",{target:i});i.dispatchEvent(f),E.formData.settings.set(a,o),E.data.save()}},content:[{tag:"div",className:"restore-default"}]}]},d={tag:"div",className:o+"-inputs-wrap setting-inputs-wrap",content:[l,u]};return i.content.push(d),i}},{key:"getConfigContainer",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this;return{tag:"div",className:"category-container-"+t,content:[{tag:"h4",className:"category-label btn-primary p-10 m-0 collapsed",content:[(0,C.getString)("category-container-"+t),{tag:"i",className:"fa fa-plus"},{tag:"i",className:"fa fa-minus"}],action:{click:function(t){var a=t.target;"I"===a.tagName&&(a=a.parentElement);var o=a.nextSibling;if(a.classList.contains("collapsed")){o.style.height="auto";var r=o.clientHeight+"px";o.style.height="0px",a.classList.remove("collapsed"),a.classList.add("collapsible"),e&&n.resizeTabContainer(a,"config"),setTimeout(function(){o.style.height=r},0)}else o.style.height="0px",a.classList.remove("collapsible"),a.classList.add("collapsed"),e&&n.resizeTabContainer(a,"config")}}},{tag:"ul",className:"category-settings",content:[]}]}}},{key:"getElement",value:function(t){return{node:function(){return t},object:function(){return document.getElementById(t.id)},string:function(){return document.getElementById(t)}}[this.contentType(t)]()}},{key:"empty",value:function(t){for(;t.firstChild;)this.remove(t.firstChild);return t}},{key:"actionButtons",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"column",n={tag:"div",className:"action-btn-wrap"},a={tag:"column"===e?"li":"div",className:e+"-actions group-actions",action:{mouseenter:function(n){var a=document.getElementById(t);a.classList.add("hovering-"+e),n.target.parentReference=a},mouseleave:function(t){t.target.parentReference.classList.remove("hovering-"+e)}}};return n.content=this.config[e+"s"].actionButtons.buttons,a.content=n,a}},{key:"clone",value:function(t,e){var n=this,a=t.id,o=t.fType,r=(0,C.clone)((0,C.clone)(E.formData[o].get(a))),i=p.default.indexOfNode(t)+1,l=!1;return r.id=(0,C.uuid)(),E.formData[o].set(r.id,r),e||(e=t.parentElement,l=!0),{rows:function(){r.columns=[];var e=n.activeStage,a=n.addRow(null,r.id),o=t.getElementsByClassName("stage-columns");return e.insertBefore(a,e.childNodes[i]),p.default.forEach(o,function(t){return n.clone(t,a)}),E.data.saveRowOrder(),a},columns:function(){r.fields=[];var a=n.addColumn(e.id,r.id);e.insertBefore(a,e.childNodes[i]),E.data.saveColumnOrder(e);var o=t.getElementsByClassName("stage-fields");return l&&D.columnWidths(e),p.default.forEach(o,function(t){return n.clone(t,a)}),a},fields:function(){var t=n.addField(e.id,r.id,"clone");return e.insertBefore(t,e.childNodes[i]),E.data.saveFieldOrder(e),t}}[o]()}},{key:"canRemoveElement",value:function(t){var e=t.fType,n="",a={fields:function(t){t=E.formData.fields.get(t),p.default.get(t,"attrs.template")&&t.attrs.template&&(n+=t.config.label+"<br>")},columns:function(t){(t=E.formData.columns.get(t)).fields.forEach(function(t){a.fields(t)})},rows:function(t){(t=E.formData.rows.get(t)).columns.forEach(function(t){a.columns(t)})}};return a[e](t.id),""==n||(e=e.slice(0,e.length-1),n=(0,C.getString)("cannotremove",e)+n,this.alert("danger",n),!1)}},{key:"removeEmpty",value:function(t){var e=this,n=t.parentElement,a=t.fType;if(e.remove(t),!n.getElementsByClassName("stage-"+a).length){if("stages"!==n.fType)return e.removeEmpty(n);this.emptyClass(n)}return"columns"===a&&e.columnWidths(n),E.data.save()}},{key:"remove",value:function(t){var e=t.fType,n=t.id;if(e){var a=t.parentElement,o=E.formData[a.fType].get(a.id);E.data.empty(e,n),this[e].delete(n),E.formData[e].delete(n),(0,C.remove)(o[e],n)}return t.parentElement.removeChild(t)}},{key:"removeClasses",value:function(t,e){var n={string:function(t){t.className=t.className.replace(e,"")},array:function(t){for(var n=e.length-1;0<=n;n--)t.classList.remove(e[n])}};n.object=n.string,p.default.forEach(t,n[this.contentType(e)])}},{key:"addClasses",value:function(t,e){p.default.forEach(t,{string:function(t){t.classList.add(e)},array:function(t){for(var n=e.length-1;0<=n;n--)t.classList.add(e[n])}}[this.contentType(e)])}},{key:"fieldOrderClass",value:function(t){var e=t.querySelectorAll(".stage-fields");e.length&&(this.removeClasses(e,["first-field","last-field"]),e[0].classList.add("first-field"),e[e.length-1].classList.add("last-field"))}},{key:"columnWidths",value:function(t){var e=[],n=t.getElementsByClassName("stage-columns");if(n.length){var a=parseFloat((100/n.length).toFixed(1))/1;this.removeClasses(n,/\bcol-\w+-\d+/g),p.default.forEach(n,function(t){var n=E.formData.columns.get(t.id);e.push.apply(e,l(n.fields));var o=(0,C.numToPercent)(a);t.style.width=o,t.style.float="left",n.config.width=o,t.dataset.colWidth=o,document.dispatchEvent(u.default.columnResized)}),setTimeout(function(){e.forEach(function(t){var e=D.fields.get(t);e.instance.panels&&e.instance.panels.nav.refresh()})},250),D.updateColumnPreset(t)}}},{key:"formGroup",value:function(t){return{tag:"div",className:["f-field-group",1<arguments.length&&void 0!==arguments[1]?arguments[1]:""],content:t}}},{key:"columnPresetControl",value:function(t){var e=this,n=this,a=E.formData.rows.get(t),o={tag:"select",attrs:{ariaLabel:(0,C.getString)("columnlayout"),className:"column-preset"},action:{change:function(a){var o=e.rows.get(t);n.setColumnWidths(o.row,a.target.value),E.data.save()}}},r=new Map,i={value:"custom",label:(0,C.getString)("custom")};if(r.set(1,[{value:"100.0",label:"100%"}]),r.set(2,[{value:"50.0,50.0",label:"50 | 50"},{value:"33.3,66.6",label:"33 | 66"},{value:"66.6,33.3",label:"66 | 33"},{value:"25,75",label:"25 | 75"},{value:"75,25",label:"75 | 25"},i]),r.set(3,[{value:"33.3,33.3,33.3",label:"33 | 33 | 33"},{value:"50.0,25.0,25.0",label:"50 | 25 | 25"},{value:"25.0,50.0,25.0",label:"25 | 50 | 25"},{value:"25.0,25.0,50.0",label:"25 | 25 | 50"},{value:"60.0,20.0,20.0",label:"60 | 20 | 20"},{value:"20.0,60.0,20.0",label:"20 | 60 | 20"},{value:"20.0,20.0,60.0",label:"20 | 20 | 60"},i]),r.set(4,[{value:"25.0,25.0,25.0,25.0",label:"25 | 25 | 25 | 25"},{value:"30.0,30.0,20.0,20.0",label:"30 | 30 | 20 | 20"},{value:"20.0,30.0,30.0,20.0",label:"20 | 30 | 30 | 20"},{value:"20.0,20.0,30.0,30.0",label:"20 | 20 | 30 | 30"},{value:"30.0,20.0,20.0,30.0",label:"30 | 20 | 20 | 30"},i]),r.set("custom",[i]),a&&a.columns.length){var l=a.columns,s=r.get(l.length);o.options=s||r.get("custom");var c=l.map(function(t){return E.formData.columns.get(t).config.width.replace("%","")}).join(",");s&&s.forEach(function(t,e){var n=o.options;t.value===c?n[e].selected=!0:(delete n[e].selected,n[n.length-1].selected=!0)})}else o.options=r.get(1);return o}},{key:"setColumnWidths",value:function(t,e){if("custom"!==e){e=e.split(",");var n=t.getElementsByClassName("stage-columns");p.default.forEach(n,function(t,n){var a=e[n]+"%";t.dataset.colWidth=a,t.style.width=a,E.formData.columns.get(t.id).config.width=a})}}},{key:"updateColumnPreset",value:function(t){var e=t.querySelector(".column-preset"),n=e.parentElement,a=this.columnPresetControl(t.id),o=this.create(a);return n.replaceChild(o,e),a}},{key:"coords",value:function(t){var e=t.getBoundingClientRect(),n=document.body.getBoundingClientRect();return{pageX:e.left+e.width/2,pageY:e.top-n.top-e.height/2}}},{key:"loadRows",value:function(t){var e=this;return t||(t=this.activeStage),E.formData.stages.get(t.id).rows.forEach(function(n){var a=e.addRow(t.id,n);e.loadColumns(a),D.updateColumnPreset(a),t.appendChild(a)})}},{key:"loadColumns",value:function(t){var e=this;E.formData.rows.get(t.id).columns.forEach(function(n){var a=e.addColumn(t.id,n);e.loadFields(a)})}},{key:"loadFields",value:function(t){var e=this;E.formData.columns.get(t.id).fields.forEach(function(n){return e.addField(t.id,n)}),this.fieldOrderClass(t)}},{key:"createColumn",value:function(t){var e="columns"===t.from.fType?t.item:new b.default(t.item.id),n=new y.default;return e.classList.add("first-field"),n.appendChild(e),E.formData.columns.get(n.id).fields.push(e.id),n}},{key:"processColumnConfig",value:function(t){t.className&&t.className.push("f-render-column");var e=t.config.width||"100%";return t.style="width: "+e,t}},{key:"checkValidity",value:function(t){if(t.hasChildNodes()){for(var e=0;e<t.children.length;e++)if(!this.checkValidity(t.children[e]))return!1}else if("function"==typeof t.checkValidity)return t.setCustomValidity(""),!!t.checkValidity()||(t.hasAttribute("validation")&&t.setCustomValidity(t.getAttribute("validation")),t.reportValidity());return!0}},{key:"getFormSubmitButton",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=this.getFormSettings();return{tag:"button",attrs:{id:"submit-form",className:n.submit.class.value+e,type:"button","data-processing":n.submit["processing-text"].value,style:n.submit.style.value},action:{click:function(){t.checkValidity(t.renderTarget)}},content:n.submit.text.value}}},{key:"getSubmitButtonPosition",value:function(){var t=this.getFormSettings().submit.position.value;return"text-"+(t||"center")}},{key:"getElementFromCondition",value:function(t){var e=t.content[0].options;if(2>e.length)return{status:!1};var n=t.content[1].options;if(0===n.length)return{status:!1};var a=t.content[2].options,o=null,r=null,i=null;if(0<e.length){o=e[0].value;for(var l=0;l<e.length;l++)if(!0===e[l].selected){o=e[l].value;break}if(0===(o=this.renderTarget.querySelectorAll('[id*="'+o+'"]')).length)return{status:!1}}if(0<n.length){r=n[0].value;for(var s=0;s<n.length;s++)if(!0===n[s].selected){r=n[s].value;break}}if(0<a.length){i=a[0].value;for(var c=0;c<a.length;c++)if(!0===a[c].selected){i=a[c].value;break}}return{status:!0,source:o,value:r,operator:i}}},{key:"getConditionChangedValue",value:function(t){var e=(0,C.elementTagType)(t[0]);switch(e.tag){case"SELECT":return t[0].value;case"INPUT":if("radio"===e.type){for(var n=0;n<t.length;n++)if(t[n].checked)return t[n].value;return null}}return null}},{key:"executeCondition",value:function(t,e){var n=this,a=null,o=void 0,r=void 0,i=void 0,l=void 0;for(0<t.length&&(r=t[0],a=(l=n.getConditionChangedValue(r.source))===r.value),i=1;i<t.length-1;i++)switch(r=t[i],o=(l=n.getConditionChangedValue(r.source))===r.value,t[i-1].operator){case"AND":a=a&&o;break;case"OR":a=a||o}if(i<t.length)switch(r=t[i],l=n.getConditionChangedValue(r.source),o=l===r.value,t[i-1].operator){case"AND":a=a&&o;break;case"OR":a=a||o}e.style.display=!0===a?"flex":"none"}},{key:"processEachCondition",value:function(t,e){for(var n=this,a=[],o=void 0,r=void 0,i=void 0,l=0;l<t.length;l++)o=t[l],!0===(r=n.getElementFromCondition(o)).status&&a.push(r);0!==a.length&&(e.style.display="none");for(var s=0;s<a.length;s++){switch(r=a[s],(i=(0,C.elementTagType)(r.source[0])).tag){case"SELECT":r.source[0].addEventListener("change",function(){n.executeCondition(a,e)});break;case"INPUT":if("radio"===i.type)for(var c=0;c<r.source.length;c++)r.source[c].addEventListener("click",function(){n.executeCondition(a,e)})}n.executeCondition(a,e)}}},{key:"applyConditions",value:function(t){var e=this;t.forEach(function(t){var n=t.id;if(0<t.conditions.length){var a=e.renderTarget.querySelector('[id="'+n+'"]');e.processEachCondition(t.conditions,a)}})}},{key:"getFormDefaultSettings",value:function(){var t={class:{title:(0,C.getString)("class"),id:"class",type:"text",value:"efb-form"},"background-color":{title:(0,C.getString)("backgroundcolor"),id:"background-color",type:"color",value:"#ffffff"},width:{title:(0,C.getString)("form-width"),id:"width",type:"range",value:"100",attrs:{min:"20",max:"100"}},responsive:{title:(0,C.getString)("form-responsive"),id:"responsive",type:"toggle",value:!0},padding:{title:(0,C.getString)("form-padding"),id:"padding",type:"range",value:"40",attrs:{min:"0",max:"100"}},color:{title:(0,C.getString)("textcolor"),id:"color",type:"color",value:"#000000"},"display-label":{title:(0,C.getString)("display-label"),id:"display-label",type:"select",value:"top",options:{option1:{value:"off",label:(0,C.getString)("display-label-off")},option2:{value:"top",label:(0,C.getString)("display-label-top")},option3:{value:"left",label:(0,C.getString)("display-label-left")}}},style:{title:(0,C.getString)("customcssstyle"),id:"style",type:"textarea",value:""}},e={class:{title:(0,C.getString)("class"),id:"class",type:"text",value:"btn btn-primary"},text:{title:(0,C.getString)("submitbuttontext"),id:"text",type:"text",value:"Submit"},"processing-text":{title:(0,C.getString)("submitbuttonprocessingtext"),id:"processing-text",type:"text",value:"Submitting...."},position:{title:(0,C.getString)("submitbuttonposition"),id:"position",type:"select",value:"center",options:{option1:{value:"left",label:(0,C.getString)("position-left")},option2:{value:"center",label:(0,C.getString)("position-center")},option3:{value:"right",label:(0,C.getString)("position-right")}}},style:{title:(0,C.getString)("customcssstyle"),id:"style",type:"textarea",value:""}};return{page:{class:{title:(0,C.getString)("class"),id:"class",type:"text",value:""},"background-opacity":{title:(0,C.getString)("page-background-opacity"),id:"background-opacity",type:"range",value:"0",attrs:{step:"0.1",min:"0",max:"1"}},style:{title:(0,C.getString)("customcssstyle"),id:"style",type:"textarea",value:""}},form:t,submit:e}}},{key:"getFormSettings",value:function(){var t=this.getFormDefaultSettings(),e=E.formData?E.formData.settings.get("formSettings"):null;return null!=e&&Object.keys(t).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&Object.assign(t[n],e[n])}),t}},{key:"mergeStyles",value:function(t,e){var n={},a=void 0,o=void 0,r="",l=void 0;""!==(e=e.trim())&&(e=e.split(";"),p.default.forEach(e,function(t){""!==(t=t.trim())&&(l=t.indexOf(":"),a=t.substring(0,l).trim(),o=t.substring(l+1).trim(),""!==a&&""!==o&&(n[a]=o))}),t=p.default.merge(t,n));var s=!0,c=!1,u=void 0;try{for(var d,f=Object.entries(t)[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var g=i(d.value,2);r+=g[0]+": "+g[1]+"; "}}catch(t){c=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}return r}},{key:"getMaxColumnCount",value:function(){if(0===E.formData.rows.size)return 0;var t=0;return E.formData.rows.forEach(function(e){e.columns.length>t&&(t=e.columns.length)}),t}},{key:"manageFormWidth",value:function(){var t=this,e=this.getFormSettings(),n=this.getMaxColumnCount(),a=e.form.width?e.form.width.value:"100";this.renderTarget.style.width=a+"%";var o=function(e){t.renderTarget.classList.toggle("edwiser-inline-form",e)};if(!1!==e.form.responsive.value){var r=document.getElementById("formeo-rendered-"+(document.getElementsByClassName("formeo-render").length-1)).offsetWidth;o(0!==n&&1!==n&&(2===n?360>r:3===n?480>r:4===n?640>r:800>r))}else o(!1)}},{key:"processFormSettings",value:function(t){var e=this.getFormSettings(),n=e.form.class?e.form.class.value:"",a=e.form.color?e.form.color.value:"inherit",o=e.form["background-color"]?e.form["background-color"].value:"inherit",r=e.form.padding?e.form.padding.value:"25",i=100==(e.form.width?e.form.width.value:"100")?"0 auto":"5% auto";t.classList.add(n);var l=e.form.style?e.form.style.value:"";l=this.mergeStyles({color:a,"background-color":o,margin:i,padding:r+"px"},l),t.setAttribute("style",l),this.manageFormWidth()}},{key:"processPageSettings",value:function(t){var e=this.getFormSettings(),n=e.page.class?e.page.class.value:"",a=e.page.style?e.page.style.value:"",o=e.page["background-opacity"]?e.page["background-opacity"].value:"0";t.parentElement.style.background="rgba(0, 0, 0, "+o+")",t.parentElement.style.margin="0",t.parentElement.style.padding="0";var r=document.getElementById("efb-cont-form-preview");""!=n&&r.classList.add(n),""!=a&&r.setAttribute("style",a)}},{key:"renderForm",value:function(t){var e=this;this.empty(t),this.renderTarget=t;var n=E.data.prepData,a=document.getElementsByClassName("formeo-render").length,r=!0,i=Object.values(n.stages).map(function(t){var a=t.rows,i=o(t,["rows"]);return a=a.map(function(t){var a=n.rows[t],r=a.columns,i=o(a,["columns"]),l=r.map(function(t){var a=e.processColumnConfig(n.columns[t]),o=a.fields.map(function(t){return n.fields[t]});return a.tag="div",a.content=o,a});i.tag="div",i.content=[l];var s=(0,C.clone)(i);if(i.config.inputGroup){var c={tag:"button",className:"remove-input-group",content:D.icon("remove"),action:{mouseover:function(t){t.target.parentElement.classList.add("will-remove")},mouseleave:function(t){t.target.parentElement.classList.remove("will-remove")},click:function(t){var e=t.target.parentElement;1<e.parentElement.getElementsByClassName("f-input-group").length?D.remove(e):console.log("Need at least 1 group")}}};s.content.unshift(c);var u={tag:"div",id:(0,C.uuid)(),className:"f-input-group-wrap"};s.attrs.className&&("string"==typeof s.attrs.className?s.attrs.className+=" f-input-group":s.attrs.className.push("f-input-group"));var d={tag:"button",attrs:{className:"add-input-group btn pull-right",type:"button"},content:"Add +",action:{click:function(t){var e=t.target.parentElement,n=D.create(s);e.insertBefore(n,e.lastChild)}}};i.content.unshift(c),u.content=[s,d],i=u}return i}),i.tag="div",i.content=a,i.className="f-stage",i.title="",r?(r=!1,i.className+=" active"):i.className+=" d-none",i});t.appendChild(this.create({tag:"div",id:"formeo-rendered-"+a,className:"formeo-render formeo",content:i})),t.append(this.create({tag:"div",className:["form-submit",this.getSubmitButtonPosition()],content:[D.getFormSubmitButton()]})),D.applyConditions(E.formData.rows),D.processFormSettings(t),D.processPageSettings(t),t.prepend(this.create({tag:"h2",content:document.getElementById("id_title").value}))}},{key:"clearStep",value:function(){this.clearStage(D.activeStage)}},{key:"clearStage",value:function(t){t.classList.add("removing-all-fields"),w.default.slideUp(t,600,function(){D.empty(t),t.classList.remove("removing-all-fields"),E.data.save(),D.emptyClass(t),w.default.slideDown(t,300,function(){t.style.height="100%"})})}},{key:"addRow",value:function(t,e){var n=new f.default(e),a=t?this.stages.get(t).stage:this.activeStage;return a.appendChild(n),E.data.saveRowOrder(a),this.emptyClass(a),u.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{updateType:"added",changed:"row",oldValue:void 0,newValue:E.formData.rows.get(n.id)}}),document.dispatchEvent(u.default.formeoUpdated),n}},{key:"addColumn",value:function(t,e){var n=new y.default(e),a=this.rows.get(t).row;return a.appendChild(n),E.data.saveColumnOrder(a),this.emptyClass(a),u.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{updateType:"added",changed:"column",oldValue:void 0,newValue:E.formData.columns.get(n.id)}}),document.dispatchEvent(u.default.formeoUpdated),n}},{key:"toggleSortable",value:function(t,e){var n=t.fType;if(n){var a=t.parentElement.fType,o=D[n].get(t.id).sortable;void 0===e&&(e=!o.option("disabled")),o.option("disabled",e),a&&p.default.inArray(a,["rows","columns","stages"])&&this.toggleSortable(t.parentElement,e)}}},{key:"addField",value:function(t,e){var n,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(n="clone"===a?new b.default(e,a):new b.default(e),t){var o=this.columns.get(t).column;o.appendChild(n),E.data.saveFieldOrder(o),this.emptyClass(o)}return u.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{updateType:"add",changed:"field",oldValue:void 0,newValue:E.formData.fields.get(n.id)}}),document.dispatchEvent(u.default.formeoUpdated),n}},{key:"toggleFormDeleteAction",value:function(){if(this.container){var t=this.container.querySelector(".item-delete-form"),e=0===E.formData.fields.size&&1===E.formData.stages.size;t&&(t.classList.toggle("d-none",e),t.parentElement.parentElement.classList.toggle("hide-delete",e))}}},{key:"emptyClass",value:function(t){var e=t.fType;if(e){var n=new Map;n.set("rows","columns"),n.set("columns","fields"),n.set("stages","rows"),0==t.getElementsByClassName("stage-"+n.get(e)).length?t.classList.add("empty-"+e):t.classList.remove("empty-"+e),"stages"===e&&this.toggleFormDeleteAction()}}},{key:"h",value:function(t,e,n){return this.create({tag:t,attrs:e,content:n})}},{key:"insertRule",value:function(t){for(var e=this.styleSheet,n=e.cssRules.length,a=0,o=t.length;a<o;a++){var r=1,i=t[a],l=t[a][0],s="";"[object Array]"===Object.prototype.toString.call(i[1][0])&&(i=i[1],r=0);for(var c=i.length;r<c;r++){var u=i[r],d=u[2]?" !important":"";s+=u[0]+":"+u[1]+d+";"}return e.insertRule(l+" { "+s+" }",n)}}},{key:"conditionPositions",value:function(t,e){var n=void 0,a=void 0;return n=(n=(0,C.closest)(t.target,"panel-conditions").getElementsByClassName("conditions")[0]).childNodes,"add"===e?a=n[n.length-1]:("source"===e||"value"===e||"operator"===e||"delete"===e)&&(a=(0,C.closest)(t.target,"condition")),{row:(0,C.closestFtype)(t.target),conditionIndex:Array.prototype.indexOf.call(n,a),condition:a.childNodes[0],type:e}}},{key:"conditionSourceChange",value:function(t){var e=t.target.value,n={tag:"select",attrs:{type:"select"},options:[]};"choose"!==e&&(n.options=E.formData.fields.get(e).options);var a=t.target.nextSibling;if(a.innerHTML="",0<n.options.length){for(var o=(n=D.create(n)).childNodes;o.length;)a.appendChild(o[0]);a.firstChild.selected=!0}}},{key:"checkSingle",value:function(){N.default.forEach(function(t){if(p.default.get(t,"config.single")){var e=!0;E.formData.fields.forEach(function(n){n.meta.group===t.meta.group&&n.meta.id===t.meta.id&&(e=!1)}),1==e?(0,C.showControl)(t.meta.id+"-control"):(0,C.hideControl)(t.meta.id+"-control")}})}},{key:"proWarning",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this,n="";"object"===(void 0===t?"undefined":s(t))&&null!==t?(Object.prototype.hasOwnProperty.call(t,"video")&&(n+='\n        <div><iframe class="efb-pro-demo" src="'+this.get_pro_demo_url(t.video)+'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>\n        </iframe></div>'),t=(0,C.getString)("profeaturemessage",t),t+=n):t=(0,C.getString)("profeature",t);var a={tag:"div",content:t};a=D.create(a),D.multiActions("warning",(0,C.getString)("hey-wait"),a,[{title:(0,C.getString)("upgrade"),type:"success",action:function(){window.open(e.prourl)}},{title:(0,C.getString)("later"),type:"secondary"}])}},{key:"modalContainer",value:function(t,e,n){return document.addEventListener("keyup",n),{tag:"div",id:t,attrs:{className:"efb-modal fade",role:"dialog","aria-hidden":!0},content:[{tag:"div",attrs:{className:"efb-modal-dialog",role:"document"},content:[{tag:"div",className:"efb-modal-content",content:e}],action:{keyup:n}}]}}},{key:"modalHeader",value:function(t,e,n,a){var o=this,r={click:function(){o.removeModal(t,a)}};return{tag:"div",className:"efb-modal-header bg-"+n,content:[{tag:"h4",attrs:{className:"efb-modal-title text-white",id:"modal-"+t},content:e},{tag:"button",attrs:{type:"button",className:"close efb-modal-close text-white","data-dismiss":t,"aria-label":(0,C.getString)("close")},content:[{tag:"span",attrs:{"aria-hidden":!0},content:"x",action:r}],action:r}]}}},{key:"addModal",value:function(t){t=D.create(t),document.querySelector("body").appendChild(t),setTimeout(function(){t.classList.toggle("show");var e=new CustomEvent("focus",{target:t});t.dispatchEvent(e)},150)}},{key:"removeModal",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=document.getElementById(t);n.classList.remove("show"),setTimeout(function(){n.remove(),e&&document.removeEventListener("keyup",e)},150)}},{key:"toaster",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3,n=(0,C.uuid)(),a=this.create({tag:"div",attrs:{id:n,className:"efb-toaster toaster-container"},content:[{tag:"lable",className:"toaster-message",content:t}]});document.querySelector("body").appendChild(a),document.getElementById(n).classList.add("show"),setTimeout(function(){document.getElementById(n).classList.add("fade"),setTimeout(function(){document.getElementById(n).classList.remove("fade"),setTimeout(function(){document.getElementById(n).remove()},e)},e)})}},{key:"loading",value:function(){this.addModal({tag:"div",id:"efb-modal-loading",attrs:{className:"efb-modal fade",role:"dialog","aria-hidden":!0},content:{tag:"div",className:"efb-modal-loader"}})}},{key:"loadingClose",value:function(){this.removeModal("efb-modal-loading")}},{key:"alert",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=this,o=(0,C.uuid)(),r=function t(e){27===e.keyCode&&(null!==n&&n(),a.removeModal(o,t))},i=(0,C.getString)(t),l={tag:"div",className:"efb-modal-footer",content:[{tag:"button",attrs:{className:"btn btn-success",type:"button"},content:(0,C.getString)("ok"),action:{click:function(){a.removeModal(o,r),null!==n&&n()},keyup:r}}]},s=a.modalContainer(o,[a.modalHeader(o,i,t,r),{tag:"div",className:"efb-modal-body",content:[{tag:"h5",content:e}]},l],r);a.addModal(s)}},{key:"multiActions",value:function(t,e,n,a){var o=this,r=(0,C.uuid)(),i=function t(e){27===e.keyCode&&o.removeModal(r,t)},l={tag:"div",className:"efb-modal-footer",content:[]};a.forEach(function(t){l.content.push({tag:"button",attrs:{className:"btn btn-"+t.type,type:"button"},content:t.title,action:{click:function(e){if(t.action){var n=t.action(e);if("boolean"==typeof n&&!1===n)return}o.removeModal(r,i)}}})});var s=o.modalContainer(r,[o.modalHeader(r,e,t,i),{tag:"div",className:"efb-modal-body",content:[{tag:"h5",content:n}]},l],i);o.addModal(s)}},{key:"confirm",value:function(t,e,n,a){var o=this,r=this,i=(0,C.uuid)(),l=function(){a(),r.removeModal(i,s)},s=function t(e){13===e.keyCode?(l(),o.onkeyup=null):27===e.keyCode&&(r.removeModal(i,t),o.onkeyup=null)},c={tag:"div",className:"efb-modal-footer",content:[{tag:"button",attrs:{className:"btn btn-success",type:"button"},content:(0,C.getString)("proceed"),action:{click:l}},{tag:"button",attrs:{className:"btn btn-danger",type:"button"},content:(0,C.getString)("cancel"),action:{click:function(){r.removeModal(i,s)}}}]},u=r.modalContainer(i,[r.modalHeader(i,e,t,s),{tag:"div",className:"efb-modal-body",content:[{tag:"h5",content:n}]},c],s);r.addModal(u)}},{key:"addAttributePrompt",value:function(t,e,n){var a=this,o=(0,C.uuid)(),r=!1,i=function(){var t=document.getElementById("attr-"+o).value,e=document.getElementById("value-"+o).value;a.removeModal(o,l),t&&!r&&(r=!0,n(t,e))},l=function t(e){13===e.keyCode?i():27===e.keyCode&&a.removeModal(o,t)},s={tag:"div",className:"efb-modal-body",content:[{tag:"div",content:(0,C.getString)("attribute-help")},{tag:"input",attrs:{id:"attr-"+o,className:"form-control",type:"text"},config:{label:(0,C.getString)("attribute")},action:{keyup:l}},{tag:"input",attrs:{id:"value-"+o,className:"form-control",type:"text"},config:{label:(0,C.getString)("value")},action:{keyup:l}}]},c={tag:"div",className:"efb-modal-footer",content:[{tag:"button",attrs:{className:"btn btn-success",type:"button"},content:(0,C.getString)("proceed"),action:{click:i}},{tag:"button",attrs:{className:"btn btn-danger",type:"button"},content:(0,C.getString)("cancel"),action:{click:function(){a.removeModal(o,l)}}}]},u=a.modalContainer(o,[a.modalHeader(o,e,t,l),s,c],l);a.addModal(u)}},{key:"setConfig",set:function(t){var e=this,n=e.icon,a={tag:"button",content:[],attrs:{className:["btn"],type:"button"}},o=p.default.merge(Object.assign({},a),{content:[n("move"),n("handle")],attrs:{className:["btn-default","item-handle"]},meta:{id:"handle"}}),r=p.default.merge(Object.assign({},a),{content:n("edit"),attrs:{className:["btn-primary","item-edit-toggle"]},meta:{id:"edit"},action:{click:function(t){var e=(0,C.closestFtype)(t.target),n=e.fType,a="editing-"+(n=n.replace(/s$/,"")),o=e.querySelector("."+n+"-edit");w.default.slideToggle(o,666),"field"===n&&(w.default.slideToggle(o.nextSibling,666),e.parentElement.classList.toggle("column-"+a)),e.classList.toggle(a)}}}),i=p.default.merge(Object.assign({},a),{content:n("remove"),attrs:{className:["btn-danger","item-remove"]},meta:{id:"remove"},action:{click:function(t){var n=(0,C.closestFtype)(t.target);e.canRemoveElement(n)&&w.default.slideUp(n,666,function(){e.removeEmpty(n),e.checkSingle()})}}}),l=p.default.merge(Object.assign({},a),{content:n("copy"),attrs:{className:["btn-warning","item-clone"]},meta:{id:"clone"},action:{click:function(t){e.clone((0,C.closestFtype)(t.target)),E.data.save()}}}),s={rows:{actionButtons:{buttons:[(0,C.addTitle)(o,"row-move"),(0,C.addTitle)(r,"row-edit"),(0,C.addTitle)(l,"row-clone"),(0,C.addTitle)(i,"row-remove")],order:[],disabled:[]}},columns:{actionButtons:{buttons:[(0,C.addTitle)(o,"column-move"),(0,C.addTitle)(l,"column-clone"),(0,C.addTitle)(i,"column-remove")],order:[],disabled:[]}},fields:{actionButtons:{buttons:[(0,C.addTitle)(o,"field-move"),(0,C.addTitle)(r,"field-edit"),(0,C.addTitle)(l,"field-clone"),(0,C.addTitle)(i,"field-remove")],order:[],disabled:[]}}};s.rows.actionButtons.buttons[0].content=[n("move-vertical"),n("handle")],s.columns.actionButtons.buttons[0].content=[n("move"),n("handle")];var c=p.default.merge(s,t);return Object.keys(c).forEach(function(t){if(c[t].actionButtons){var e=c[t].actionButtons,n=e.disabled,a=e.buttons;e.buttons=p.default.orderObjectsBy(a,e.order,"meta.id"),e.buttons=e.buttons.filter(function(t){var e=p.default.get(t,"meta.id");return!p.default.inArray(e,n)})}}),c.dir&&(this.dir=c.dir),this.config=c,this.config}}]),e}(),D=new x;t.default=D},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.showControl=e.hideControl=e.getString=e.clicked=e.cleanObj=e.numberBetween=e.numToPercent=e.addTitle=e.strip=e.clone=e.uuid=e.strMapToObj=e.objToStrMap=e.unique=e.ucfirst=e.elementTagType=e.closestFtype=e.closest=e.remove=e.match=void 0;var a=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},r=function(t){return t&&t.__esModule?t:{default:t}}(n(16)),i=(e.match=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];if(!e)return console.warn("utils.match missing argument 2."),!1;var n=/[|\\{}()[\]^*$+?.]/g,a="string"==typeof e?[e]:e,o=!0;return(a=a.map(function(t){return"*"===t?"":t.replace(n,"\\$&")})).length&&(o=!t.match(new RegExp(a.join("|"),"i"))),o},e.remove=function(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)},e.closest=function(t,e){for(var n=e.replace(".","");(t=t.parentElement)&&!t.classList.contains(n););return t},e.closestFtype=function(t){for(;(t=t.parentElement)&&!t.fType;);return t},e.elementTagType=function(t){var e={tag:t.tagName};return"INPUT"==t.tagName&&(e.type=t.type),e},e.ucfirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.unique=function(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})},e.objToStrMap=function(t){var e=new Map,n=!0,a=!1,o=void 0;try{for(var r,i,l=Object.keys(t)[Symbol.iterator]();!(n=(r=l.next()).done);n=!0)i=r.value,e.set(i,t[i])}catch(t){a=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return e},e.strMapToObj=function(t){var e=Object.create(null);return t.forEach(function(t,n){e[n]=t}),e},e.uuid=function(t){var e;if(t){var n=t.attrs;e=(void 0===n?{}:n).id||t.id||(0,r.default)(),t.id=e}else e=(0,r.default)();return e},e.clone=function t(e){var n;if(null===e||"object"!==(void 0===e?"undefined":o(e)))return e;if(e instanceof Date)return(n=new Date).setTime(e.getTime()),n;if(e instanceof Array){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=t(e[r]);return n}if(e instanceof Object)return a({},e);throw new Error("Unable to copy Object, type not supported.")}),l=(e.strip=function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},e.addTitle=function(t,e){return(t=i(t)).attrs.title=s(e),t},e.numToPercent=function(t){return t.toString()+"%"},e.numberBetween=function(t,e,n){return t>e&&t<n}),s=(e.cleanObj=function(t){var e=Object.assign({},t);return Object.keys(t).forEach(function(n){"string"==typeof t[n]?e[n]=n:"boolean"==typeof t[n]&&(e[n]=!1)}),e},e.clicked=function(t,e,n,a){var o=n.x-5,r=n.x+5,i=n.y-5,s=n.y+5,c=l(t,o,r),u=l(e,i,s);return c&&u&&2!==a},e.getString=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=window.M,a=null===e?n.util.get_string(t,"local_edwiserform"):n.util.get_string(t,"local_edwiserform",e);return a=="[["+t+",local_edwiserform]]"?(t=t.replace("-"," "),-1!=a.indexOf(".")&&(t=(t=t.split(".")).slice(t.length-1)[0]),t=t.charAt(0).toUpperCase()+t.slice(1)):a});e.hideControl=function(t){var e=document.querySelector("."+t),n=e.parentElement.parentElement,a=e.parentElement,o=a.clientHeight+"px";if(e.classList.add("disable-control"),!n.classList.contains("collapsed-controls")){a.style.height="auto";var r=a.clientHeight+"px";a.style.height=o,setTimeout(function(){a.style.height=r},0)}},e.showControl=function(t){var e=document.querySelector("."+t),n=e.parentElement.parentElement,a=e.parentElement,o=a.clientHeight+"px";if(e.classList.remove("disable-control"),!n.classList.contains("collapsed-controls")){a.style.height="auto";var r=a.clientHeight+"px";a.style.height=o,setTimeout(function(){a.style.height=r},0)}},(e.memoize=function t(e,n){if("function"!=typeof e||n&&"function"!=typeof n)throw new TypeError("memoize: First argument must be a function");var a=function t(){for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];var i=n?n.apply(t,o):o[0],l=t.cache;if(l.has(i))return l.get(i);var s=e.apply(t,o);return t.cache=l.set(i,s),s};return a.cache=new t.Cache,a}).Cache=Map},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},o=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),r=n(1),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,l=/\\(\\)?/g,s=function(t){var e=[];return Array.isArray(t)?e=t:t.replace(i,function(t,n,a,o){var r;r=a?o.replace(l,"$1"):n||t,e.push(r)}),e},c=function(){var t={},e=void 0,n=document.createElement("div");return function(a){return a.replace(/([&][^&; ]+[;])/g,function(a){return(e=t[a])||(n.innerHTML=a,e=n.childNodes[0]?t[a]=n.childNodes[0].nodeValue:""),e})}}(),u={hyphenCase:function(t){return(t=t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})).replace(/\s/g,"-").replace(/^-+/g,"")},safeAttrName:function(t){return{className:"class"}[t]||u.hyphenCase(t)},ajax:function(t,e){return new window.Promise(function(n,a){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){200<=this.status&&300>this.status?(e(o),n(o.response)):a({status:this.status,statusText:o.statusText})},o.onerror=function(){a({status:this.status,statusText:o.statusText})},o.send()})},insertIcons:function(t){var e="formeo-sprite",n=o.default.create({tag:"div",content:t.responseText,id:e});n.style.display="none";var a=document.getElementById(e);a?a.parentElement.replaceChild(n,a):document.body.insertBefore(n,document.body.childNodes[0])},insertStyle:function(t){var e=o.default.create({tag:"style",content:t.responseText});document.head.appendChild(e)},capitalize:function(t){return t.replace(/\b\w/g,function(t){return t.toUpperCase()})},inArray:function(t,e){return-1!==e.indexOf(t)},forEach:function(t,e,n){for(var a=0;a<t.length;a++)e.call(n,t[a],a)},copyObj:function(t){return window.JSON.parse(window.JSON.stringify(t))},map:function(t,e){var n=[];return u.forEach(t,function(t,a){return n.push(e(a))}),n},subtract:function(t,e){return e.filter(function(t){return-1===this.indexOf(t)},t)},indexOfNode:function(t,e){var n=e||t.parentElement;return Array.prototype.slice.call(n.childNodes).indexOf(t)},isInt:function(t){return+t===t&&0==t%1},get:function(t,e){for(var n=0,a=(e=s(e)).length;null!==t&&n<a;){if(!Object.prototype.hasOwnProperty.call(t,e[n]))return;t=t[e[n++]]}return n&&n===a?t:void 0},set:function(t,e,n,o){for(var r=-1,i=(e=s(e)).length,l=t;null!==l&&++r<i;){var c=e[r];if("object"===(void 0===l?"undefined":a(l))){var u=n;if(r!=i-1){var d=l[c];void 0===(u=o?o(d,c,l):void 0)&&(u=null===d?[]:d)}hasOwnProperty.call(l,c)&&l[c]===u&&(void 0!==u||c in l)||(l[c]=u)}l=l[c]}return t},merge:function(t,e){var n=Object.assign({},t,e);for(var o in e)Object.prototype.hasOwnProperty.call(n,o)&&(n[o]=Array.isArray(e[o])?t&&Array.isArray(t[o])?t[o].concat(e[o]):e[o]:"object"===a(e[o])?u.merge(t[o],e[o]):e[o]);return n},orderObjectsBy:function(t,e,n){var a=(0,r.unique)(e).map(function(e){return t.filter(function(t){return u.get(t,n)===e})[0]}).filter(Boolean).concat(t);return(0,r.unique)(a)},toggleElementsByStr:function(t,e){var n=[];return u.forEach(t,function(t){-1===t.textContent.toLowerCase().indexOf(e.toLowerCase())?t.style.display="none":(t.style.display="block",n.push(t))}),n},isFireFoxEdge:function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")||-1<navigator.userAgent.toLowerCase().indexOf("trident")},stripHtml:function(t){var e=document.createElement("div");return e.innerHTML=c(t),e.textContent||e.innerText||""},isHtml:function(t){var e=document.createElement("div");e.innerHTML=c(t);for(var n=e.childNodes,a=n.length;a--;)if(1==n[a].nodeType)return!0;return!1}};e.default=u},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.registeredFields=e.formData=e.data=void 0;var o=a(n(6)),r=a(n(2)),i=a(n(0)),l=a(n(8)),s=n(1),c={},u=void 0,d={init:function(t,n){var a={id:(0,s.uuid)(),settings:new Map,stages:new Map,rows:new Map,columns:new Map,fields:new Map};c.opts=t;var o=function(t){"string"==typeof t&&(t=window.JSON.parse(t)),t.settings=(0,s.objToStrMap)(t.settings),t.stages=(0,s.objToStrMap)(t.stages),t.rows=(0,s.objToStrMap)(t.rows),t.columns=(0,s.objToStrMap)(t.columns),t.fields=(0,s.objToStrMap)(t.fields),e.formData=u=Object.assign({},a,t)};if(""===n)e.formData=u=!1;else if(null!==n)o(n);else if(window.localStorage&&c.opts.localStorage){var r=window.localStorage.getItem("formData");r&&o(r)}return u||(e.formData=u=a),u},replaceFormData:function(t){e.formData=u=t},saveColumnOrder:function(t){var e=t.getElementsByClassName("stage-columns"),n=r.default.map(e,function(t){return e[t].id});return u.rows.get(t.id).columns=n,n},saveFieldOrder:function(t){var e=t.getElementsByClassName("stage-fields"),n=r.default.map(e,function(t){return e[t].id});return u.columns.get(t.id).fields=n,n},refreshStageSelectList:function(){var t=document.getElementById("stages");document.getElementsByClassName("stages-list")[0].classList.remove("d-none"),t.options.length=0,u.stages.forEach(function(e,n){var a=document.createElement("option");a.label=e.title,a.value=n,t.add(a)})},addStage:function(){var t=new l.default("",""),e=t.childNodes[0].id;return document.getElementsByClassName("formeo-editor")[0].querySelector(".form-container").append(t),d.save(),e},updateStageTitle:function(t,e){var n=u.stages.get(t);n.title=e,u.stages.set(t,n),d.save()},saveConditionalLogics:function(t){var e=t.row.id,n=u.rows.get(e),a=n.conditions,o=void 0;a.length>t.conditionIndex&&(o=a[t.conditionIndex]);var r={source:0,value:1,operator:2},i=function(t,e){var n=t.childNodes[e].childNodes,a=[];return 0<n.length&&n.forEach(function(t){a.push({label:t.label,value:t.value,selected:t.selected})}),a};switch(t.type){case"add":a.push({tag:"div",className:"condition-inputs",content:[{tag:"select",className:"condition-source condition-input",options:i(t.condition,r.source)},{tag:"select",className:"condition-value condition-input",options:i(t.condition,r.value)},{tag:"select",className:"condition-operator condition-input",options:i(t.condition,r.operator)}]});break;case"delete":a.splice(t.conditionIndex,1);break;case"source":case"value":case"operator":o.content[r[t.type]].options=i(t.condition,r[t.type]),a[t.conditionIndex]=o}n.conditions=a,u.rows.set(e,n),d.save()},saveRowOrder:function(t){if(t||(t=i.default.activeStage),void 0===u.stages.get(t.id))return{};var e=u.stages.get(t.id).rows.slice(),n=t.getElementsByClassName("stage-rows"),a=r.default.map(n,function(t){return n[t].id});return u.stages.get(t.id).rows=a,new CustomEvent("formeoUpdated",{data:{updateType:"sort",changed:"rows",oldValue:e,newValue:a}}),document.dispatchEvent(o.default.formeoUpdated),a},saveOptionOrder:function(t){var e=t.getElementsByClassName("prop-wrap"),n=r.default.map(e,function(t){return e[t].propData});return u.fields.get(t.fieldID)[t.editGroup]=n,n},saveOrder:function(t,e){return{row:d.saveRowOrder,column:d.saveColumnOrder,field:d.saveFieldOrder,options:d.saveOptionOrder}[t](e)},saveType:function(t,e){var n={settings:function(){var t=u.stages.settings;return u.settings=[],r.default.forEach(t,function(t,e){u.rows[t]=r.default.clone(u.rows[e]),u.rows[t]=Object.assign({},u.rows[e]),u.rows[t].columns=n.columns(e)}),u.settings},stages:function(){d.saveRowOrder()},rows:function(){return u.rows},columns:function(){return u.columns},fields:function(){return u.fields},field:function(t){return u.fields.get(t)},attrs:function(t){var e=u.fields.get(t.fieldID).attrs;return o.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{changed:"field.attrs",updateType:"update",attrValues:e}}),document.dispatchEvent(o.default.formeoUpdated),e},options:function(t){var e=u.fields.get(t.fieldID).options,n=d.saveOrder("options",t);return o.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{changed:"field.options",updateType:"sort",oldValue:e,newValue:n}}),document.dispatchEvent(o.default.formeoUpdated),n}};return n[t](e)},empty:function(t,e){var n={},a={stages:function(t){t||(t=i.default.activeStage.id);var e=u.stages.get(t),o=e.rows;n.rows=o.map(function(t){return a.rows(t),u.rows.delete(t),t}),e.rows=[]},rows:function(t){var e=u.rows.get(t);if(e){var o=e.columns;n.columns=o.map(function(t){return a.columns(t),u.columns.delete(t),t}),o=[]}},columns:function(t){var e=u.columns.get(t);if(e){var a=e.fields;n.fields=a.map(function(t){return u.fields.delete(t),t}),a=[]}},fields:function(t){var e=i.default.fields.get(t);if(e){e=e.field;var n=u.columns.get(e.parentElement.id),a=n.fields.slice();(0,s.remove)(n.fields,t),o.default.formeoUpdated=new CustomEvent("formeoUpdated",{data:{updateType:"removed",changed:"column.fields",oldValue:a,newValue:n.fields}}),document.dispatchEvent(o.default.formeoUpdated)}}};return a[t](e),n},saveThrottle:!1,saveThrottled:!1,save:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"stages",e=arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];n&&(d.saveThrottle=n);var a=function(){d.saveType(t,e);var n=window.localStorage;if(n&&c.opts.localStorage)try{n.setItem("formData",d.json)}catch(t){var a=new CustomEvent("confirmClearStorage",{detail:{confirmationMessage:(0,s.getString)("clearstoragemessage"),clearStorageAction:function(){n.clear(),n.setItem("formData",d.json)},clearStorageManualAction:function(){window.open("https://www.google.com/search?q=how+to+clear+browser+local+storage")}}});document.dispatchEvent(a)}return o.default.formeoSaved=new CustomEvent("formeoSaved",{detail:{formData:d.js}}),document.dispatchEvent(o.default.formeoSaved),u};return d.saveThrottle?d.saveThrottled=!0:(a(),d.saveThrottle=!0,setTimeout(function(){d.saveThrottled&&(a(),d.saveThrottled=!1),d.saveThrottle=!1},500)),u},reset:function(){var t=window.localStorage;t&&c.opts.localStorage&&t.setItem("formData","")},get js(){var t={};return Object.keys(u).forEach(function(e){t[e]="string"==typeof u[e]?u[e]:(0,s.strMapToObj)(u[e])}),t},get prepData(){var t=d.js;return Object.keys(t).forEach(function(e){Object.keys(t[e]).forEach(function(n){var a=t[e][n];a.action&&Object.keys(a.action).forEach(function(t){a.action[t]=a.action[t].toString()})})}),t},get json(){var t=d.prepData;return window.JSON.stringify(t,null,"\t")}};e.data=d,e.formData=u,e.registeredFields={}},function(t,e,n){function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function o(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?a(Object(e),!0).forEach(function(n){i(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))});return t}function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){return(l=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function u(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}function d(t,e,n){t.addEventListener(e,n,!Dt&&Lt)}function f(t,e,n){t.removeEventListener(e,n,!Dt&&Lt)}function p(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function g(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function m(t,e,n,a){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&p(t,e):p(t,e))||a&&t===n)return t;if(t===n)break}while(t=g(t))}return null}function v(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var a=(" "+t.className+" ").replace(Pt," ").replace(" "+e+" "," ");t.className=(a+(n?" "+e:"")).replace(Pt," ")}}function h(t,e,n){var a=t&&t.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in a||-1!==e.indexOf("webkit")||(e="-webkit-"+e),a[e]=n+("string"==typeof n?"":"px")}}function y(t,e){var n="";if("string"==typeof t)n=t;else do{var a=h(t,"transform");a&&"none"!==a&&(n=a+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function b(t,e,n){if(t){var a=t.getElementsByTagName(e),o=0,r=a.length;if(n)for(;o<r;o++)n(a[o],o);return a}return[]}function w(){return document.scrollingElement||document.documentElement}function E(t,e,n,a,o){if(t.getBoundingClientRect||t===window){var r,i,l,s,c,u,d;if(t!==window&&t.parentNode&&t!==w()?(i=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,d=r.width):(i=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!Dt))do{if(o&&o.getBoundingClientRect&&("none"!==h(o,"transform")||n&&"static"!==h(o,"position"))){var f=o.getBoundingClientRect();i-=f.top+parseInt(h(o,"border-top-width")),l-=f.left+parseInt(h(o,"border-left-width")),s=i+r.height,c=l+r.width;break}}while(o=o.parentNode);if(a&&t!==window){var p=y(o||t),g=p&&p.a,m=p&&p.d;p&&(s=(i/=m)+(u/=m),c=(l/=g)+(d/=g))}return{top:i,left:l,bottom:s,right:c,width:d,height:u}}}function S(t,e,n){for(var a=x(t,!0),o=E(t)[e];a;){var r=E(a)[n];if(!("top"===n||"left"===n?o>=r:o<=r))return a;if(a===w())break;a=x(a,!1)}return!1}function C(t,e,n,a){for(var o=0,r=0,i=t.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==F.ghost&&(a||i[r]!==F.dragged)&&m(i[r],n.draggable,t,!1)){if(o===e)return i[r];o++}r++}return null}function k(t,e){for(var n=t.lastElementChild;n&&(n===F.ghost||"none"===h(n,"display")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function N(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==F.clone&&(!e||p(t,e))&&n++;return n}function D(t){var e=0,n=0,a=w();if(t)do{var o=y(t),r=o.a,i=o.d;e+=t.scrollLeft*r,n+=t.scrollTop*i}while(t!==a&&(t=t.parentNode));return[e,n]}function x(t,e){if(!t||!t.getBoundingClientRect)return w();var n=t,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=h(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return w();if(a||e)return n;a=!0}}}while(n=n.parentNode);return w()}function T(t,e){var n=Math.round;return n(t.top)===n(e.top)&&n(t.left)===n(e.left)&&n(t.height)===n(e.height)&&n(t.width)===n(e.width)}function O(t,e){return function(){if(!tt){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),tt=setTimeout(function(){tt=void 0},e)}}}function _(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function A(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function L(t,e){h(t,"position","absolute"),h(t,"top",e.top),h(t,"left",e.left),h(t,"width",e.width),h(t,"height",e.height)}function P(t){h(t,"position",""),h(t,"top",""),h(t,"left",""),h(t,"width",""),h(t,"height","")}function I(){var t,e=[];return{captureAnimationState:function(){e=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==h(t,"display")&&t!==F.ghost){e.push({target:t,rect:E(t)});var n=o({},e[e.length-1].rect);if(t.thisAnimationDuration){var a=y(t,!0);a&&(n.top-=a.f,n.left-=a.e)}t.fromRect=n}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var a in e)if(e.hasOwnProperty(a)&&e[a]===t[n][a])return+n;return-1}(e,{target:t}),1)},animateAll:function(n){var a=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var o=!1,r=0;e.forEach(function(t){var e=0,n=t.target,i=n.fromRect,l=E(n),s=n.prevFromRect,c=n.prevToRect,u=t.rect,d=y(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&T(s,l)&&!T(i,l)&&(u.top-l.top)/(u.left-l.left)==(i.top-l.top)/(i.left-l.left)&&(e=function(t,e,n,a){var o=Math.sqrt,r=Math.pow;return o(r(e.top-t.top,2)+r(e.left-t.left,2))/o(r(e.top-n.top,2)+r(e.left-n.left,2))*a.animation}(u,s,c,a.options)),T(l,i)||(n.prevFromRect=i,n.prevToRect=l,!e&&(e=a.options.animation),a.animate(n,u,l,e)),e&&(o=!0,r=Q(r,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(t),o?t=setTimeout(function(){"function"==typeof n&&n()},r):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,a){if(a){h(t,"transition",""),h(t,"transform","");var o=y(this.el),r=o&&o.a,i=o&&o.d,l=(e.left-n.left)/(r||1),s=(e.top-n.top)/(i||1);t.animatingX=!!l,t.animatingY=!!s,h(t,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),h(t,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){h(t,"transition",""),h(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},a)}}}}function M(t){var e=t.sortable,n=t.rootEl,a=t.name,r=t.targetEl,i=t.cloneEl,l=t.toEl,s=t.fromEl,c=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,f=t.newDraggableIndex,p=t.originalEvent,g=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[It]){var v,h=e.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||Dt||xt?(v=document.createEvent("Event")).initEvent(a,!0,!0):v=new CustomEvent(a,{bubbles:!0,cancelable:!0}),v.to=l||n,v.from=s||n,v.item=r||n,v.clone=i,v.oldIndex=c,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=f,v.originalEvent=p,v.pullMode=g?g.lastPutMode:void 0;var b=o(o({},m),Ft.getEventProperties(a,e));for(var w in b)v[w]=b[w];n&&n.dispatchEvent(v),h[y]&&h[y].call(e,v)}}function j(t){M(o({putSortable:gt,cloneEl:lt,targetEl:et,rootEl:ot,oldIndex:ct,oldDraggableIndex:dt,newIndex:ut,newDraggableIndex:ft},t))}function F(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=l({},e),t[It]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==F.supportPointer&&"PointerEvent"in window&&!Ot,emptyInsertThreshold:5};for(var a in Ft.initializePlugins(this,t,n),n)a in e||(e[a]=n[a]);for(var o in te(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Zt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?d(t,"pointerdown",this._onTapStart):(d(t,"mousedown",this._onTapStart),d(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(d(t,"dragover",this),d(t,"dragenter",this)),zt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),l(this,I())}function B(t,e,n,a,o,r,i,l){var s,c,u=t[It],d=u.options.onMove;return!window.CustomEvent||Dt||xt?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=a,s.related=o||e,s.relatedRect=r||E(e),s.willInsertAfter=l,s.originalEvent=i,t.dispatchEvent(s),d&&(c=d.call(u,s,i)),c}function R(t){t.draggable=!1}function W(){Gt=!1}function H(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,a=0;n--;)a+=e.charCodeAt(n);return a.toString(36)}function z(t){return setTimeout(t,0)}function q(t){return clearTimeout(t)}function U(){de.forEach(function(t){clearInterval(t.pid)}),de=[]}function X(){clearInterval(ue)}function G(){}function Y(){}function V(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;me=e},dragOverValid:function(t){var e=t.completed,n=t.target,a=t.onMove,o=t.activeSortable,r=t.changed,i=t.cancel;if(o.options.swap){var l=this.sortable.el,s=this.options;if(n&&n!==l){var c=me;!1===a(n)?me=null:(v(n,s.swapClass,!0),me=n),c&&c!==me&&v(c,s.swapClass,!1)}r(),e(!0),i()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,a=t.dragEl,o=n||this.sortable,r=this.options;me&&v(me,r.swapClass,!1),me&&(r.swap||n&&n.options.swap)&&a!==me&&(o.captureAnimationState(),o!==e&&e.captureAnimationState(),function(t,e){var n,a,o=t.parentNode,r=e.parentNode;!o||!r||o.isEqualNode(e)||r.isEqualNode(t)||(n=N(t),a=N(e),o.isEqualNode(r)&&n<a&&a++,o.insertBefore(e,o.children[n]),r.insertBefore(t,r.children[a]))}(a,me),o.animateAll(),o!==e&&e.animateAll())},nulling:function(){me=null}},l(t,{pluginName:"swap",eventProperties:function(){return{swapItem:me}}})}function K(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?d(document,"pointerup",this._deselectMultiDrag):(d(document,"mouseup",this._deselectMultiDrag),d(document,"touchend",this._deselectMultiDrag))),d(document,"keydown",this._checkKeyDown),d(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(e,n){var a="";Ee.length&&he===t?Ee.forEach(function(t,e){a+=(e?", ":"")+t.textContent}):a=n.textContent,e.setData("Text",a)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;ye=e},delayEnded:function(){this.isMultiDrag=~Ee.indexOf(ye)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var a=0;a<Ee.length;a++)Se.push(A(Ee[a])),Se[a].sortableIndex=Ee[a].sortableIndex,Se[a].draggable=!1,Se[a].style["will-change"]="",v(Se[a],this.options.selectedClass,!1),Ee[a]===ye&&v(Se[a],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,a=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||!Ee.length||he!==e||($(!0,n),a("clone"),o()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,a=t.cancel;this.isMultiDrag&&($(!1,n),Se.forEach(function(t){h(t,"display","")}),e(),we=!1,a())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),a=t.cancel;this.isMultiDrag&&(Se.forEach(function(t){h(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),we=!0,a())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&he&&he.multiDrag._deselectMultiDrag(),Ee.forEach(function(t){t.sortableIndex=N(t)}),Ee=Ee.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),Ne=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Ee.forEach(function(t){t===ye||h(t,"position","absolute")});var a=E(ye,!1,!0,!0);Ee.forEach(function(t){t===ye||L(t,a)}),ke=!0,Ce=!0}n.animateAll(function(){ke=!1,Ce=!1,e.options.animation&&Ee.forEach(function(t){P(t)}),e.options.sort&&Z()})}},dragOver:function(t){var e=t.target,n=t.completed,a=t.cancel;ke&&~Ee.indexOf(e)&&(n(!1),a())},revert:function(t){var e=t.fromSortable,n=t.rootEl,a=t.sortable,o=t.dragRect;1<Ee.length&&(Ee.forEach(function(t){a.addAnimationState({target:t,rect:ke?E(t):o}),P(t),t.fromRect=o,e.removeAnimationState(t)}),ke=!1,function(t,e){Ee.forEach(function(n,a){var o=e.children[n.sortableIndex+(t?+a:0)];o?e.insertBefore(n,o):e.appendChild(n)})}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,a=t.insertion,o=t.activeSortable,r=t.parentEl,i=t.putSortable,l=this.options;if(a){if(n&&o._hideClone(),Ce=!1,l.animation&&1<Ee.length&&(ke||!n&&!o.options.sort&&!i)){var s=E(ye,!1,!0,!0);Ee.forEach(function(t){t===ye||(L(t,s),r.appendChild(t))}),ke=!0}if(!n)if(ke||Z(),1<Ee.length){var c=we;o._showClone(e),o.options.animation&&!we&&c&&Se.forEach(function(t){o.addAnimationState({target:t,rect:be}),t.fromRect=be,t.thisAnimationDuration=null})}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,a=t.activeSortable;if(Ee.forEach(function(t){t.thisAnimationDuration=null}),a.options.animation&&!n&&a.multiDrag.isMultiDrag){be=l({},e);var o=y(ye,!0);be.top-=o.f,be.left-=o.e}},dragOverAnimationComplete:function(){ke&&(ke=!1,Z())},drop:function(t){var e=t.originalEvent,n=t.rootEl,a=t.parentEl,o=t.sortable,r=t.dispatchSortableEvent,i=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c=this.options,u=a.children;if(!Ne)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),v(ye,c.selectedClass,!~Ee.indexOf(ye)),~Ee.indexOf(ye))Ee.splice(Ee.indexOf(ye),1),ve=null,M({sortable:o,rootEl:n,name:"deselect",targetEl:ye,originalEvent:e});else{if(Ee.push(ye),M({sortable:o,rootEl:n,name:"select",targetEl:ye,originalEvent:e}),e.shiftKey&&ve&&o.el.contains(ve)){var d,f,p=N(ve),g=N(ye);if(~p&&~g&&p!==g)for(g>p?(f=p,d=g):(f=g,d=p+1);f<d;f++)~Ee.indexOf(u[f])||(v(u[f],c.selectedClass,!0),Ee.push(u[f]),M({sortable:o,rootEl:n,name:"select",targetEl:u[f],originalEvent:e}))}else ve=ye;he=s}if(Ne&&this.isMultiDrag){if(ke=!1,(a[It].options.sort||a!==n)&&1<Ee.length){var m=E(ye),h=N(ye,":not(."+this.options.selectedClass+")");if(!Ce&&c.animation&&(ye.thisAnimationDuration=null),s.captureAnimationState(),!Ce&&(c.animation&&(ye.fromRect=m,Ee.forEach(function(t){if(t.thisAnimationDuration=null,t!==ye){var e=ke?E(t):m;t.fromRect=e,s.addAnimationState({target:t,rect:e})}})),Z(),Ee.forEach(function(t){u[h]?a.insertBefore(t,u[h]):a.appendChild(t),h++}),i===N(ye))){var y=!1;Ee.forEach(function(t){t.sortableIndex===N(t)||(y=!0)}),y&&r("update")}Ee.forEach(function(t){P(t)}),s.animateAll()}he=s}(n===a||l&&"clone"!==l.lastPutMode)&&Se.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=Ne=!1,Se.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,"pointerup",this._deselectMultiDrag),f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==Ne&&Ne||he!==this.sortable||t&&m(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Ee.length;){var e=Ee[0];v(e,this.options.selectedClass,!1),Ee.shift(),M({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},l(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[It];e&&e.options.multiDrag&&!~Ee.indexOf(t)&&(he&&he!==e&&(he.multiDrag._deselectMultiDrag(),he=e),v(t,e.options.selectedClass,!0),Ee.push(t))},deselect:function(t){var e=t.parentNode[It],n=Ee.indexOf(t);e&&e.options.multiDrag&&~n&&(v(t,e.options.selectedClass,!1),Ee.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Ee.forEach(function(a){var o;e.push({multiDragElement:a,index:a.sortableIndex}),o=ke&&a!==ye?-1:ke?N(a,":not(."+t.options.selectedClass+")"):N(a),n.push({multiDragElement:a,index:o})}),{items:s(Ee),clones:[].concat(Se),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function $(t,e){Se.forEach(function(n,a){var o=e.children[n.sortableIndex+(t?+a:0)];o?e.insertBefore(n,o):e.appendChild(n)})}function Z(){Ee.forEach(function(t){t===ye||t.parentNode&&t.parentNode.removeChild(t)})}var J=Math.abs,Q=Math.max;n.r(e),n.d(e,"MultiDrag",function(){return K}),n.d(e,"Sortable",function(){return F}),n.d(e,"Swap",function(){return V});var tt,et,nt,at,ot,rt,it,lt,st,ct,ut,dt,ft,pt,gt,mt,vt,ht,yt,bt,wt,Et,St,Ct,kt,Nt,Dt=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xt=u(/Edge/i),Tt=u(/firefox/i),Ot=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),_t=u(/iP(ad|od|hone)/i),At=u(/chrome/i)&&u(/android/i),Lt={capture:!1,passive:!1},Pt=/\s+/g,It="Sortable"+(new Date).getTime(),Mt=[],jt={initializeByDefault:!0},Ft={mount:function(t){for(var e in jt)jt.hasOwnProperty(e)&&!(e in t)&&(t[e]=jt[e]);Mt.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Mt.push(t)},pluginEvent:function(t,e,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=t+"Global";Mt.forEach(function(a){e[a.pluginName]&&(e[a.pluginName][r]&&e[a.pluginName][r](o({sortable:e},n)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](o({sortable:e},n)))})},initializePlugins:function(t,e,n){for(var a in Mt.forEach(function(a){var o=a.pluginName;if(t.options[o]||a.initializeByDefault){var r=new a(t,e,t.options);r.sortable=t,r.options=t.options,t[o]=r,l(n,r.defaults)}}),t.options)if(t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);void 0!==o&&(t.options[a]=o)}},getEventProperties:function(t,e){var n={};return Mt.forEach(function(a){"function"!=typeof a.eventProperties||l(n,a.eventProperties.call(e[a.pluginName],t))}),n},modifyOption:function(t,e,n){var a;return Mt.forEach(function(o){!t[o.pluginName]||o.optionListeners&&"function"==typeof o.optionListeners[e]&&(a=o.optionListeners[e].call(t[o.pluginName],n))}),a}},Bt=["evt"],Rt=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,r=function(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],!(0<=e.indexOf(n))&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,Bt);Ft.pluginEvent.bind(F)(t,e,o({dragEl:et,parentEl:nt,ghostEl:at,rootEl:ot,nextEl:rt,lastDownEl:it,cloneEl:lt,cloneHidden:st,dragStarted:Et,putSortable:gt,activeSortable:F.active,originalEvent:a,oldIndex:ct,oldDraggableIndex:dt,newIndex:ut,newDraggableIndex:ft,hideGhostForTarget:ee,unhideGhostForTarget:ne,cloneNowHidden:function(){st=!0},cloneNowShown:function(){st=!1},dispatchSortableEvent:function(t){j({sortable:e,name:t,originalEvent:a})}},r))},Wt=!1,Ht=!1,zt=[],qt=!1,Ut=!1,Xt=[],Gt=!1,Yt=[],Vt="undefined"!=typeof document,Kt=_t,$t=xt||Dt?"cssFloat":"float",Zt=Vt&&!At&&!_t&&"draggable"in document.createElement("div"),Jt=function(){if(Vt){if(Dt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Qt=function(t,e){var n=h(t),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=C(t,0,e),r=C(t,1,e),i=o&&h(o),l=r&&h(r),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+E(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+E(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return 1>=n.gridTemplateColumns.split(" ").length?"vertical":"horizontal";if(o&&i.float&&"none"!==i.float){var u="left"===i.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return o&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=a&&"none"===n[$t]||r&&"none"===n[$t]&&s+c>a)?"vertical":"horizontal"},te=function(t){function e(t,n){return function(a,o,r,i){var l=a.options.group.name&&o.options.group.name&&a.options.group.name===o.options.group.name;if(null==t&&(n||l))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(a,o,r,i),n)(a,o,r,i);var s=(n?a:o).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&-1<t.indexOf(s)}}var n={},a=t.group;a&&"object"==r(a)||(a={name:a}),n.name=a.name,n.checkPull=e(a.pull,!0),n.checkPut=e(a.put),n.revertClone=a.revertClone,t.group=n},ee=function(){!Jt&&at&&h(at,"display","none")},ne=function(){!Jt&&at&&h(at,"display","")};Vt&&!At&&document.addEventListener("click",function(t){if(Ht)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ht=!1,!1},!0);var ae=function(t){if(et){var e=function(t,e){var n;return zt.some(function(a){var o=a[It].options.emptyInsertThreshold;if(o&&!k(a)){var r=E(a),i=t>=r.left-o&&t<=r.right+o,l=e>=r.top-o&&e<=r.bottom+o;if(i&&l)return n=a}}),n}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[It]._onDragOver(n)}}},oe=function(t){et&&et.parentNode[It]._isOutsideThisEl(t.target)};F.prototype={constructor:F,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(St=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,et):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,a=this.options,o=a.preventOnFilter,r=t.type,i=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(i||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=a.filter;if(function(t){Yt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var a=e[n];a.checked&&Yt.push(a)}}(n),!et&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||a.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Ot||!l||"SELECT"!==l.tagName.toUpperCase())&&(!(l=m(l,a.draggable,n,!1))||!l.animated)&&it!==l){if(ct=N(l),dt=N(l,a.draggable),"function"==typeof c){if(c.call(this,t,l,this))return j({sortable:e,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),Rt("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(a){if(a=m(s,a.trim(),n,!1))return j({sortable:e,rootEl:a,name:"filter",targetEl:l,fromEl:n,toEl:n}),Rt("filter",e,{evt:t}),!0})))return void(o&&t.cancelable&&t.preventDefault());a.handle&&!m(s,a.handle,n,!1)||this._prepareDragStart(t,i,l)}}},_prepareDragStart:function(t,e,n){var a,o=this,r=o.el,i=o.options,l=r.ownerDocument;if(n&&!et&&n.parentNode===r){var s=E(n);if(ot=r,nt=(et=n).parentNode,rt=et.nextSibling,it=n,pt=i.group,F.dragged=et,mt={target:et,clientX:(e||t).clientX,clientY:(e||t).clientY},bt=mt.clientX-s.left,wt=mt.clientY-s.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,et.style["will-change"]="all",a=function(){return Rt("delayEnded",o,{evt:t}),F.eventCanceled?void o._onDrop():(o._disableDelayedDragEvents(),!Tt&&o.nativeDraggable&&(et.draggable=!0),o._triggerDragStart(t,e),j({sortable:o,name:"choose",originalEvent:t}),void v(et,i.chosenClass,!0))},i.ignore.split(",").forEach(function(t){b(et,t.trim(),R)}),d(l,"dragover",ae),d(l,"mousemove",ae),d(l,"touchmove",ae),d(l,"mouseup",o._onDrop),d(l,"touchend",o._onDrop),d(l,"touchcancel",o._onDrop),Tt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,et.draggable=!0),Rt("delayStart",this,{evt:t}),!i.delay||i.delayOnTouchOnly&&!e||this.nativeDraggable&&(xt||Dt))a();else{if(F.eventCanceled)return void this._onDrop();d(l,"mouseup",o._disableDelayedDrag),d(l,"touchend",o._disableDelayedDrag),d(l,"touchcancel",o._disableDelayedDrag),d(l,"mousemove",o._delayedDragTouchMoveHandler),d(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&d(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(a,i.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Q(J(e.clientX-this._lastX),J(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){et&&R(et),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,"mouseup",this._disableDelayedDrag),f(t,"touchend",this._disableDelayedDrag),f(t,"touchcancel",this._disableDelayedDrag),f(t,"mousemove",this._delayedDragTouchMoveHandler),f(t,"touchmove",this._delayedDragTouchMoveHandler),f(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?d(document,"pointermove",this._onTouchMove):d(document,e?"touchmove":"mousemove",this._onTouchMove):(d(et,"dragend",this),d(ot,"dragstart",this._onDragStart));try{document.selection?z(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Wt=!1,ot&&et){Rt("dragStarted",this,{evt:e}),this.nativeDraggable&&d(document,"dragover",oe);var n=this.options;t||v(et,n.dragClass,!1),v(et,n.ghostClass,!0),F.active=this,t&&this._appendGhost(),j({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(vt){this._lastX=vt.clientX,this._lastY=vt.clientY,ee();for(var t=document.elementFromPoint(vt.clientX,vt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(vt.clientX,vt.clientY))!==e;)e=t;if(et.parentNode[It]._isOutsideThisEl(t),e)do{if(e[It]&&e[It]._onDragOver({clientX:vt.clientX,clientY:vt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);ne()}},_onTouchMove:function(t){if(mt){var e=this.options,n=e.fallbackTolerance,a=e.fallbackOffset,o=t.touches?t.touches[0]:t,r=at&&y(at,!0),i=at&&r&&r.a,l=at&&r&&r.d,s=Kt&&Nt&&D(Nt),c=(o.clientX-mt.clientX+a.x)/(i||1)+(s?s[0]-Xt[0]:0)/(i||1),u=(o.clientY-mt.clientY+a.y)/(l||1)+(s?s[1]-Xt[1]:0)/(l||1);if(!F.active&&!Wt){if(n&&Q(J(o.clientX-this._lastX),J(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(at){r?(r.e+=c-(ht||0),r.f+=u-(yt||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");h(at,"webkitTransform",d),h(at,"mozTransform",d),h(at,"msTransform",d),h(at,"transform",d),ht=c,yt=u,vt=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!at){var t=this.options.fallbackOnBody?document.body:ot,e=E(et,!0,Kt,!0,t),n=this.options;if(Kt){for(Nt=t;"static"===h(Nt,"position")&&"none"===h(Nt,"transform")&&Nt!==document;)Nt=Nt.parentNode;Nt!==document.body&&Nt!==document.documentElement?(Nt===document&&(Nt=w()),e.top+=Nt.scrollTop,e.left+=Nt.scrollLeft):Nt=w(),Xt=D(Nt)}v(at=et.cloneNode(!0),n.ghostClass,!1),v(at,n.fallbackClass,!0),v(at,n.dragClass,!0),h(at,"transition",""),h(at,"transform",""),h(at,"box-sizing","border-box"),h(at,"margin",0),h(at,"top",e.top),h(at,"left",e.left),h(at,"width",e.width),h(at,"height",e.height),h(at,"opacity","0.8"),h(at,"position",Kt?"absolute":"fixed"),h(at,"zIndex","100000"),h(at,"pointerEvents","none"),F.ghost=at,t.appendChild(at),h(at,"transform-origin",bt/parseInt(at.style.width)*100+"% "+wt/parseInt(at.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,a=t.dataTransfer,o=n.options;return Rt("dragStart",this,{evt:t}),F.eventCanceled?void this._onDrop():(Rt("setupClone",this),!F.eventCanceled&&((lt=A(et)).removeAttribute("id"),lt.draggable=!1,lt.style["will-change"]="",this._hideClone(),v(lt,this.options.chosenClass,!1),F.clone=lt),n.cloneId=z(function(){Rt("clone",n),F.eventCanceled||(!n.options.removeCloneOnHide&&ot.insertBefore(lt,et),n._hideClone(),j({sortable:n,name:"clone"}))}),!e&&v(et,o.dragClass,!0),e?(Ht=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,"mouseup",n._onDrop),f(document,"touchend",n._onDrop),f(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",o.setData&&o.setData.call(n,a,et)),d(document,"drop",n),h(et,"transform","translateZ(0)")),Wt=!0,n._dragStartId=z(n._dragStarted.bind(n,e,t)),d(document,"selectstart",n),Et=!0,void(Ot&&h(document.body,"user-select","none")))},_onDragOver:function(t){function e(e,n){Rt(e,D,o({evt:t,isOwner:y,axis:c?"vertical":"horizontal",revert:s,dragRect:i,targetRect:l,canSort:b,fromSortable:w,target:d,completed:a,onMove:function(e,n){return B(ot,u,et,i,e,E(e),t,n)},changed:r},n))}function n(){e("dragOverAnimationCapture"),D.captureAnimationState(),D!==w&&w.captureAnimationState()}function a(n){return e("dragOverCompleted",{insertion:n}),n&&(y?g._hideClone():g._showClone(D),D!==w&&(v(et,gt?gt.options.ghostClass:g.options.ghostClass,!1),v(et,f.ghostClass,!0)),gt!==D&&D!==F.active?gt=D:D===F.active&&gt&&(gt=null),w===D&&(D._ignoreWhileAnimating=d),D.animateAll(function(){e("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(d!==et||et.animated)&&(d!==u||d.animated)||(St=null),f.dragoverBubble||t.rootEl||d===document||(et.parentNode[It]._isOutsideThisEl(t.target),!n&&ae(t)),!f.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),x=!0}function r(){ut=N(et),ft=N(et,f.draggable),j({sortable:D,name:"change",toEl:u,newIndex:ut,newDraggableIndex:ft,originalEvent:t})}var i,l,s,c,u=this.el,d=t.target,f=this.options,p=f.group,g=F.active,y=pt===p,b=f.sort,w=gt||g,D=this,x=!1;if(!Gt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),d=m(d,f.draggable,u,!0),e("dragOver"),F.eventCanceled)return x;if(et.contains(t.target)||d.animated&&d.animatingX&&d.animatingY||D._ignoreWhileAnimating===d)return a(!1);if(Ht=!1,g&&!f.disabled&&(y?b||(s=nt!==ot):gt===this||(this.lastPutMode=pt.checkPull(this,g,et,t))&&p.checkPut(this,g,et,t))){if(c="vertical"===this._getDirection(t,d),i=E(et),e("dragOverValid"),F.eventCanceled)return x;if(s)return nt=ot,n(),this._hideClone(),e("revert"),F.eventCanceled||(rt?ot.insertBefore(et,rt):ot.appendChild(et)),a(!0);var T=k(u,f.draggable);if(!T||function(t,e,n){var a=E(k(n.el,n.options.draggable));return e?t.clientX>a.right+10||t.clientX<=a.right&&t.clientY>a.bottom&&t.clientX>=a.left:t.clientX>a.right&&t.clientY>a.top||t.clientX<=a.right&&t.clientY>a.bottom+10}(t,c,this)&&!T.animated){if(T===et)return a(!1);if(T&&u===t.target&&(d=T),d&&(l=E(d)),!1!==B(ot,u,et,i,d,l,t,!!d))return n(),T&&T.nextSibling?u.insertBefore(et,T.nextSibling):u.appendChild(et),nt=u,r(),a(!0)}else if(T&&function(t,e,n){var a=E(C(n.el,0,n.options,!0));return e?t.clientX<a.left-10||t.clientY<a.top&&t.clientX<a.right:t.clientY<a.top-10||t.clientY<a.bottom&&t.clientX<a.left}(t,c,this)){var O=C(u,0,f,!0);if(O===et)return a(!1);if(l=E(d=O),!1!==B(ot,u,et,i,d,l,t,!1))return n(),u.insertBefore(et,O),nt=u,r(),a(!0)}else if(d.parentNode===u){l=E(d);var A,L,P,I=et.parentNode!==u,M=!function(t,e,n){var a=n?t.left:t.top,o=n?t.right:t.bottom,r=n?t.width:t.height,i=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height;return a===i||o===l||a+r/2===i+s/2}(et.animated&&et.toRect||i,d.animated&&d.toRect||l,c),R=c?"top":"left",H=S(d,"top","top")||S(et,"top","top"),z=H?H.scrollTop:void 0;if(St!==d&&(L=l[R],qt=!1,Ut=!M&&f.invertSwap||I),0!==(A=function(t,e,n,a,o,r,i,l){var s=a?t.clientY:t.clientX,c=a?n.height:n.width,u=a?n.top:n.left,d=a?n.bottom:n.right,f=!1;if(!i)if(l&&kt<c*o){if(!qt&&(1===Ct?s>u+c*r/2:s<d-c*r/2)&&(qt=!0),qt)f=!0;else if(1===Ct?s<u+kt:s>d-kt)return-Ct}else if(s>u+c*(1-o)/2&&s<d-c*(1-o)/2)return function(t){return N(et)<N(t)?1:-1}(e);return(f=f||i)&&(s<u+c*r/2||s>d-c*r/2)?s>u+c/2?1:-1:0}(t,d,l,c,M?1:f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,Ut,St===d))){var q=N(et);do{q-=A,P=nt.children[q]}while(P&&("none"===h(P,"display")||P===at))}if(0===A||P===d)return a(!1);St=d,Ct=A;var U=d.nextElementSibling,X=!1,G=B(ot,u,et,i,d,l,t,X=1===A);if(!1!==G)return(1===G||-1===G)&&(X=1===G),Gt=!0,setTimeout(W,30),n(),X&&!U?u.appendChild(et):d.parentNode.insertBefore(et,X?U:d),H&&_(H,0,z-H.scrollTop),nt=et.parentNode,void 0===L||Ut||(kt=J(L-E(d)[R])),r(),a(!0)}if(u.contains(et))return a(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,"mousemove",this._onTouchMove),f(document,"touchmove",this._onTouchMove),f(document,"pointermove",this._onTouchMove),f(document,"dragover",ae),f(document,"mousemove",ae),f(document,"touchmove",ae)},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,"mouseup",this._onDrop),f(t,"touchend",this._onDrop),f(t,"pointerup",this._onDrop),f(t,"touchcancel",this._onDrop),f(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;return ut=N(et),ft=N(et,n.draggable),Rt("drop",this,{evt:t}),nt=et&&et.parentNode,ut=N(et),ft=N(et,n.draggable),F.eventCanceled||(Wt=!1,Ut=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),q(this.cloneId),q(this._dragStartId),this.nativeDraggable&&(f(document,"drop",this),f(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ot&&h(document.body,"user-select",""),h(et,"transform",""),t&&(Et&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),at&&at.parentNode&&at.parentNode.removeChild(at),(ot===nt||gt&&"clone"!==gt.lastPutMode)&&lt&&lt.parentNode&&lt.parentNode.removeChild(lt),et&&(this.nativeDraggable&&f(et,"dragend",this),R(et),et.style["will-change"]="",Et&&!Wt&&v(et,gt?gt.options.ghostClass:this.options.ghostClass,!1),v(et,this.options.chosenClass,!1),j({sortable:this,name:"unchoose",toEl:nt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ot===nt?ut!==ct&&0<=ut&&(j({sortable:this,name:"update",toEl:nt,originalEvent:t}),j({sortable:this,name:"sort",toEl:nt,originalEvent:t})):(0<=ut&&(j({rootEl:nt,name:"add",toEl:nt,fromEl:ot,originalEvent:t}),j({sortable:this,name:"remove",toEl:nt,originalEvent:t}),j({rootEl:nt,name:"sort",toEl:nt,fromEl:ot,originalEvent:t}),j({sortable:this,name:"sort",toEl:nt,originalEvent:t})),gt&&gt.save()),F.active&&((null==ut||-1===ut)&&(ut=ct,ft=dt),j({sortable:this,name:"end",toEl:nt,originalEvent:t}),this.save())))),void this._nulling()},_nulling:function(){Rt("nulling",this),ot=et=nt=at=rt=lt=it=st=mt=vt=Et=ut=ft=ct=dt=St=Ct=gt=pt=F.dragged=F.ghost=F.clone=F.active=null,Yt.forEach(function(t){t.checked=!0}),Yt.length=ht=yt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":et&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,a=0,o=n.length,r=this.options;a<o;a++)m(t=n[a],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||H(t));return e},sort:function(t,e){var n={},a=this.el;this.toArray().forEach(function(t,e){var o=a.children[e];m(o,this.options.draggable,a,!1)&&(n[t]=o)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(a.removeChild(n[t]),a.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return m(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var a=Ft.modifyOption(this,t,e);n[t]=void 0===a?e:a,"group"===t&&te(n)},destroy:function(){Rt("destroy",this);var t=this.el;t[It]=null,f(t,"mousedown",this._onTapStart),f(t,"touchstart",this._onTapStart),f(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(f(t,"dragover",this),f(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zt.splice(zt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!st){if(Rt("hideClone",this),F.eventCanceled)return;h(lt,"display","none"),this.options.removeCloneOnHide&&lt.parentNode&&lt.parentNode.removeChild(lt),st=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(st){if(Rt("showClone",this),F.eventCanceled)return;et.parentNode!=ot||this.options.group.revertClone?rt?ot.insertBefore(lt,rt):ot.appendChild(lt):ot.insertBefore(lt,et),this.options.group.revertClone&&this.animate(et,lt),h(lt,"display",""),st=!1}}else this._hideClone()}},Vt&&d(document,"touchmove",function(t){(F.active||Wt)&&t.cancelable&&t.preventDefault()}),F.utils={on:d,off:f,css:h,find:b,is:function(t,e){return!!m(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:O,closest:m,toggleClass:v,clone:A,index:N,nextTick:z,cancelNextTick:q,detectDirection:Qt,getChild:C},F.get=function(t){return t[It]},F.mount=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(F.utils=o(o({},F.utils),t.utils)),Ft.mount(t)})},F.create=function(t,e){return new F(t,e)},F.version="1.15.0";var re,ie,le,se,ce,ue,de=[],fe=!1,pe=O(function(t,e,n,a){if(e.scroll){var o,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,c=w(),u=!1;ie!==n&&(ie=n,U(),re=e.scroll,o=e.scrollFn,!0===re&&(re=x(n,!0)));var d=0,f=re;do{var p=f,g=E(p),m=g.top,v=g.bottom,y=g.left,b=g.right,S=g.width,C=g.height,k=void 0,N=void 0,D=p.scrollWidth,T=p.scrollHeight,O=h(p),A=p.scrollLeft,L=p.scrollTop;p===c?(k=S<D&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),N=C<T&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(k=S<D&&("auto"===O.overflowX||"scroll"===O.overflowX),N=C<T&&("auto"===O.overflowY||"scroll"===O.overflowY));var P=k&&(J(b-r)<=l&&A+S<D)-(J(y-r)<=l&&!!A),I=N&&(J(v-i)<=l&&L+C<T)-(J(m-i)<=l&&!!L);if(!de[d])for(var M=0;M<=d;M++)de[M]||(de[M]={});(de[d].vx!=P||de[d].vy!=I||de[d].el!==p)&&(de[d].el=p,de[d].vx=P,de[d].vy=I,clearInterval(de[d].pid),(0!=P||0!=I)&&(u=!0,de[d].pid=setInterval(function(){a&&0===this.layer&&F.active._onTouchMove(ce);var e=de[this.layer].vy?de[this.layer].vy*s:0,n=de[this.layer].vx?de[this.layer].vx*s:0;"function"==typeof o&&"continue"!==o.call(F.dragged.parentNode[It],n,e,t,ce,de[this.layer].el)||_(de[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==c&&(f=x(f,!1)));fe=u}},30),ge=function(t){var e=t.originalEvent,n=t.putSortable,a=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,i=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var s=n||o;i();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(r("spill"),this.onSpill({dragEl:a,putSortable:n}))}};G.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=C(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(e,a):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ge},l(G,{pluginName:"revertOnSpill"}),Y.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ge},l(Y,{pluginName:"removeOnSpill"});var me,ve,he,ye,be,we,Ee=[],Se=[],Ce=!1,ke=!1,Ne=!1;F.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?d(document,"dragover",this._handleAutoScroll):this.options.supportPointer?d(document,"pointermove",this._handleFallbackAutoScroll):e.touches?d(document,"touchmove",this._handleFallbackAutoScroll):d(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):(f(document,"pointermove",this._handleFallbackAutoScroll),f(document,"touchmove",this._handleFallbackAutoScroll),f(document,"mousemove",this._handleFallbackAutoScroll)),X(),U(),clearTimeout(tt),tt=void 0},nulling:function(){ce=ie=re=fe=ue=le=se=null,de.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(a,o);if(ce=t,e||this.options.forceAutoScrollFallback||xt||Dt||Ot){pe(t,this.options,r,e);var i=x(r,!0);fe&&(!ue||a!==le||o!==se)&&(ue&&X(),ue=setInterval(function(){var r=x(document.elementFromPoint(a,o),!0);r!==i&&(i=r,U()),pe(t,n.options,r,e)},10),le=a,se=o)}else{if(!this.options.bubbleScroll||x(r,!0)===w())return void U();pe(t,this.options,x(r,!1),!1)}}},l(t,{pluginName:"scroll",initializeByDefault:!0})}),F.mount(Y,G),e.default=F},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),a=(e.Throttle=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"add",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:window,a=this;a[t]=a[t]||{callbacks:[]},a.addCallback(t,e);var o=function(e){a.throttle(a[t],e)};return n.addEventListener(t,o),o}},{key:"addCallback",value:function(t,e){e&&this[t].callbacks.push(e)}},{key:"runCallbacks",value:function(t,e){t.callbacks.forEach(function(t){t(e)}),t.running=!1}},{key:"throttle",value:function(t,e){var n=this;t.running||(t.running=!0,window.requestAnimationFrame?window.requestAnimationFrame(function(){n.runCallbacks(t,e)}):setTimeout(n.runCallbacks.bind(t),66))}}]),t}(),{getStyle:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=void 0;return window.getComputedStyle?n=window.getComputedStyle(t,null):t.currentStyle&&(n=t.currentStyle),e?n[e]:n},fadeOut:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250;t.style.opacity=1,function n(){var a=+t.style.opacity-1/(e/60);0<a?(t.style.opacity=a,requestAnimationFrame(n)):t.remove()}()},slideDown:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:666,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.style.display="block";var o=a.getStyle(t),r=o.overflow;t.style.overflow="hidden";var i=parseInt(o.height,10);t.style.height="0px",function a(){var o=parseFloat(t.style.height);o<i?(t.style.height=o+i/(e/60)+"px",requestAnimationFrame(a)):(t.style.overflow=r,t.style.height="auto",n&&n(t))}()},slideUp:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:666,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=a.getStyle(t),r=parseInt(o.height),i=o.overflow;t.style.overflow="hidden",t.style.height=r+"px";var l=o.minHeight;t.style.minHeight="auto";var s=parseFloat(r/(e/60)).toFixed(2);!function e(){var a=parseInt(t.style.height,10)-s;0<a?(t.style.height=a+"px",requestAnimationFrame(e)):(t.style.overflow=i,t.style.display="none",t.style.minHeight=l,delete t.style.height,n&&n(t))}()},slideToggle:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250;"none"===a.getStyle(t,"display")?a.slideDown(t,e):a.slideUp(t,e)}});e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o=n(1),r=window.M,i={formeoLoaded:function(){},onAdd:function(){},onUpdate:function(){},onSave:function(){},confirmReset:function(t){a.default.multiActions("warning",(0,o.getString)("attention"),t.confirmationMessage,[{title:r.util.get_string("proceed","local_edwiserform"),type:"primary",action:function(){t.resetAction(t)}},{title:r.util.get_string("cancel","local_edwiserform"),type:"default"}])},confirmClearStorage:function(t){a.default.multiActions("danger",(0,o.getString)("danger"),t.confirmationMessage,[{title:(0,o.getString)("clearstorageautomatic"),type:"primary",action:function(){t.clearStorageAction(t)}},{title:(0,o.getString)("clearstoragemanually"),type:"default",action:function(){t.clearStorageManualAction(t)}}])}},l={init:function(t){return this.opts=Object.assign({},i,t),this},formeoSaved:new CustomEvent("formeoSaved",{}),formeoUpdated:new CustomEvent("formeoUpdated",{})};document.addEventListener("formeoUpdated",function(t){var e=t.timeStamp,n=t.type,a=t.data;l.opts.onUpdate({timeStamp:e,type:n,data:a})}),document.addEventListener("confirmReset",function(t){var e={timeStamp:t.timeStamp,type:t.type,rowCount:t.detail.rows.length,confirmationMessage:t.detail.confirmationMessage,resetAction:t.detail.resetAction,btnCoords:t.detail.btnCoords};l.opts.confirmReset(e)}),document.addEventListener("formeoSaved",function(t){t={timeStamp:t.timeStamp,type:t.type,formData:t.detail.formData},l.opts.onSave(t)}),document.addEventListener("confirmClearStorage",function(t){var e={timeStamp:t.timeStamp,type:t.type,confirmationMessage:t.detail.confirmationMessage,clearStorageAction:t.detail.clearStorageAction,clearStorageManualAction:t.detail.clearStorageManualAction};l.opts.confirmClearStorage(e)}),document.addEventListener("formeoLoaded",function(t){l.opts.formeoLoaded(t.detail.formeo)}),e.default=l},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Controls=void 0;var o=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=a(n(4)),i=n(3),l=a(n(2)),s=n(1),c=a(n(0)),u={},d=[{tag:"div",config:{label:(0,s.getString)("tab")},meta:{group:"layout",icon:"tab",id:"layout-tab"}},{tag:"div",config:{label:(0,s.getString)("column")},meta:{group:"layout",icon:"columns",id:"layout-column"}},{tag:"div",config:{label:(0,s.getString)("row")},meta:{group:"layout",icon:"rows",id:"layout-row"},conditions:[]},{tag:"input",attrs:{type:"text",required:!1,name:"",className:"form-control",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("input.text")},meta:{group:"standard",icon:"text-input",id:"text-input"},fMap:"attrs.value"},{tag:"textarea",config:{label:(0,s.getString)("textarea"),disabledAttrs:["template"]},meta:{group:"standard",icon:"textarea",id:"textarea"},attrs:{required:!1,name:"",className:"form-control",style:""}},{tag:"select",config:{label:(0,s.getString)("select"),disabledAttrs:["template"]},attrs:{required:!1,name:"",className:"form-control",style:""},meta:{group:"standard",icon:"select",id:"select"},options:[1,2,3,4].map(function(t){return{label:"option label-"+t,value:"option-"+t,selected:!1}})},{tag:"input",attrs:{type:"radio",name:"",required:!1,style:""},config:{label:(0,s.getString)("radioGroup"),disabledAttrs:["type","template"]},meta:{group:"standard",icon:"radio-group",id:"radio"},options:[1,2,3].map(function(t){return{label:"Radio-"+t,value:"radio value-"+t,selected:!1}})},{tag:"input",attrs:{type:"checkbox",name:"",required:!1,style:""},config:{label:(0,s.getString)("checkbox")+" - "+(0,s.getString)("checkboxes"),disabledAttrs:["type","template"]},meta:{group:"standard",icon:"checkbox",id:"checkbox"},options:[1,2,3].map(function(t){return{label:"Checkbox -"+t,value:"checkbox value-"+t,selected:!1}})},{tag:"input",attrs:{type:"number",required:!1,className:"form-control",name:"",style:""},config:{label:(0,s.getString)("number"),disabledAttrs:["type","template"]},meta:{group:"standard",icon:"hash",id:"number"},fMap:"attrs.value"},{tag:"button",attrs:{className:[{label:(0,s.getString)("grouped"),value:"btn-group"},{label:(0,s.getString)("ungrouped"),value:"f-field-group"}],style:""},config:{label:(0,s.getString)("button"),hideLabel:!0,disabledAttrs:["type","template"],disabledControl:!0},meta:{group:"standard",icon:"button",id:"button"},options:[{label:(0,s.getString)("button"),type:[{label:(0,s.getString)("button"),value:"button",selected:!0},{label:(0,s.getString)("reset"),value:"reset"},{label:(0,s.getString)("submit"),value:"submit"}],className:[{label:(0,s.getString)("default"),value:"btn",selected:!0},{label:(0,s.getString)("primary"),value:"btn btn-primary"},{label:(0,s.getString)("secondary"),value:"btn btn-secondary"},{label:(0,s.getString)("success"),value:"btn btn-success"},{label:(0,s.getString)("info"),value:"btn btn-info"},{label:(0,s.getString)("warning"),value:"btn btn-warning"},{label:(0,s.getString)("danger"),value:"btn btn-danger"},{label:(0,s.getString)("dark"),value:"btn btn-dark"},{label:(0,s.getString)("light"),value:"btn btn-light"},{label:(0,s.getString)("link"),value:"btn btn-link"}]}]},{tag:"input",attrs:{type:"text",required:!1,className:"form-control",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("control-name"),composite:!0},meta:{group:"advance",icon:"user-circle",id:"name"},fMap:"attrs.value"},{tag:"input",attrs:{type:"date",required:!1,className:"form-control",name:"",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("input.date")},meta:{group:"advance",icon:"calendar",id:"date-input"}},{tag:"input",attrs:{type:"text",pattern:"^(\\+[0-9]{0,2})?0?[0-9]{10}$",className:"form-control",name:"mobile",required:!1,value:""},config:{disabledAttrs:["type","template","pattern"],label:(0,s.getString)("mobile")},meta:{group:"advance",icon:"mobile",id:"mobile"},fMap:"attrs.value"},{tag:"select",config:{label:(0,s.getString)("country"),disabledAttrs:["template"]},attrs:{required:!1,name:"country",className:"form-control",style:""},meta:{group:"advance",icon:"flag",id:"country"}},{tag:"input",attrs:{type:"text",required:!1,className:"form-control",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("address"),composite:!0},meta:{group:"advance",icon:"address-card",id:"address"},fMap:"attrs.value"},{tag:"input",attrs:{type:"text",pattern:"^((http|https)://)?(w{3}.)?[a-zA-Z]+.[a-zA-Z.]+.*$",required:!1,name:"website",value:""},config:{disabledAttrs:["type","template","pattern"],label:(0,s.getString)("website")},meta:{group:"advance",icon:"globe",id:"website"},fMap:"attrs.value"},{tag:"input",attrs:{type:"text",required:!0,name:"username",className:"form-control",style:""},config:{label:(0,s.getString)("username"),disabledAttrs:["type","template"]},meta:{group:"advance",icon:"user",id:"username"}},{tag:"input",attrs:{type:"password",required:!0,name:"password",className:"form-control",style:""},config:{label:(0,s.getString)("password"),disabledAttrs:["type","template"]},meta:{group:"advance",icon:"key",id:"password"}},{tag:"input",attrs:{type:"email",required:!1,name:"email",className:"form-control",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("email")},meta:{group:"standard",icon:"email",id:"email"},fMap:"attrs.value"},{tag:"input",attrs:{type:"file",required:!1,name:"",className:"form-control",style:""},config:{disabledAttrs:["type","template"],label:(0,s.getString)("fileUpload")},meta:{group:"advance",icon:"upload",id:"upload"},fMap:"attrs.value"},{tag:"input",attrs:{type:"hidden",name:"",value:""},config:{label:(0,s.getString)("hidden"),disabledAttrs:["type","template"],hideLabel:!0,disabledControl:!0},meta:{group:"standard",icon:"hidden",id:"hidden"},fMap:"attrs.value"},{tag:"datalist",config:{label:(0,s.getString)("datalist"),hideLabel:!0,showLabelEdit:!0,editable:!0},meta:{group:"standard",icon:"datalist",id:"datalist"},fMap:"attrs.value",attrs:{id:"datalist"},options:[1,2,3,4].map(function(t){return{value:"Option - "+t}})},{tag:"div",attrs:{className:"g-recaptcha"},config:{disabledAttrs:["template","className"],recaptcha:!0,label:(0,s.getString)("reCaptcha"),single:!0},meta:{group:"advance",icon:"repeat",id:"recaptcha"}},{tag:"input",attrs:{type:"text",name:"website",pattern:"((http|https)://)?(w{3}.)?[a-zA-Z]+.[a-zA-Z.]+.*",required:!1,value:""},config:{disabledAttrs:["type","template","pattern"],label:(0,s.getString)("website")},meta:{group:"advance",icon:"website",id:"website"},fMap:"attrs.value"},{tag:"a",attrs:{className:"",href:"#",style:""},config:{label:(0,s.getString)("link"),editable:!0,hideLabel:!0},meta:{group:"html",icon:"link",id:"link"},content:"Link"},{tag:"h1",attrs:{tag:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"}],className:"",style:""},config:{label:(0,s.getString)("header"),editable:!0,hideLabel:!0},meta:{group:"html",icon:"header",id:"header"},content:(0,s.getString)("header")},{tag:"p",attrs:{className:"",style:""},config:{label:(0,s.getString)("paragraph"),hideLabel:!0,editable:!0},meta:{group:"html",icon:"paragraph",id:"paragraph"},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed iaculis quam et ipsum interdum vehicula. Cras molestie eleifend ligula eget."},{tag:"hr",config:{label:(0,s.getString)("separator"),hideLabel:!0},meta:{group:"html",icon:"divider",id:"divider"}}];e.Controls=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.formID=n;var a=e.groupOrder,o=void 0===a?[]:a;this.groupOrder=(0,s.unique)(o.concat(["standard","advance","html","layout"])),this.cPosition={},this.defaults={sortable:!0,elementOrder:{},groups:[{id:"layout",label:(0,s.getString)("layout"),elementOrder:["row","column"]},{id:"standard",label:(0,s.getString)("standardFields"),elementOrder:["button","checkbox"]},{id:"advance",label:(0,s.getString)("advanceFields"),elementOrder:[]},{id:"html",label:(0,s.getString)("htmlElements"),elementOrder:["header","block-text"]}],disable:{groups:[],elements:[]},elements:[]},(u=l.default.merge(this.defaults,e)).elements=u.elements.concat(d),u.elements=this.filterDisabledControls(u.elements),this.controlEvents={click:function(t){c.default.proWarning({type:t.target.lastChild.wholeText,video:t.target.getAttribute("data-control-type"),message:""})}},this.buildDOM()}return o(t,[{key:"applyControlEvents",value:function(t){var e=t.item,n=t.clone;n.classList.remove("sortable-choosen"),n.style.display="block";for(var a,o=document.getElementById(e.id).querySelector("button"),r=Object.keys(this.controlEvents),i=r.length-1;0<=i;i--)a=r[i],o.addEventListener(a,this.controlEvents[a])}},{key:"prepElement",value:function(t){var e=(0,s.uuid)(),n={tag:"button",attrs:{className:"btn btn-primary",type:"button","data-control-type":t.meta.group},content:[t.config.label],action:this.controlEvents},a={tag:"li",className:["px-0","py-5","list-group-item","field-control",t.meta.group+"-control",t.meta.id+"-control"],id:e,cPosition:{},content:n};return t.meta.icon&&n.content.unshift(c.default.icon(t.meta.icon)),i.registeredFields[e]=i.registeredFields[t.meta.id]=t,a}},{key:"filterDisabledControls",value:function(t){var e=[];return l.default.forEach(t,function(t){1==t.config.disabledControl||e.push(t)}),e}},{key:"groupElements",value:function(){var t=this,e=this,n=u.groups.slice(),a=u.elements.slice(),o=[];return n=n.filter(function(t){return(0,s.match)(t.id,u.disable.groups)}),l.default.map(n,function(r){var i={tag:"div",className:"control-label",content:[{tag:"h4",content:[n[r].label||"",{tag:"label",className:"efb-forms-pro-label m-0",content:(0,s.getString)("pro-label")},{tag:"i",attrs:{className:"fa fa-angle-right","aria-hidden":"true"}}],action:{click:function(t){var e=t.target;("I"==e.tagName||"LABEL"==e.tagName)&&(e=e.parentElement);var n=e.parentElement.parentElement,a=e.parentElement.nextSibling;if(n.classList.contains("collapsed-controls")){Object.prototype.hasOwnProperty.call(t.detail,"fAction")||e.parentElement.parentElement.parentElement.querySelectorAll(".control-label h4").forEach(function(n){n==e||n.parentElement.parentElement.classList.contains("collapsed-controls")||(t=new CustomEvent("click",{target:n,detail:{fAction:"collapse-only"}}),n.dispatchEvent(t))}),n.classList.remove("collapsed-controls"),a.style.height="auto";var o=a.clientHeight+"px";a.style.height="0px",setTimeout(function(){a.style.height=o},0)}else a.style.height="0px",a.addEventListener("transitionend",function(){n.classList.add("collapsed-controls")},{once:!0})}}}]},c={tag:"ul",attrs:{className:["control-list","list-group"],id:e.formID+"-"+n[r].id+"-control-list"},fType:"controlGroup"};if(u.elementOrder[n[r].id]){var d=u.elementOrder[n[r].id],f=(0,s.unique)(d.concat(n[r].elementOrder));n[r].elementOrder=f}return c.content=a.filter(function(t){var e,a=t.meta.id||"";return(e=[(0,s.match)(a,u.disable.elements),t.meta.group===n[r].id,!l.default.inArray(t.meta.id,o)].every(function(t){return!0===t}))&&o.push(a),e}).map(function(n){return e.prepElement.call(t,n)}),{tag:"div",className:"control-group collapsed-controls",content:[i,c]}})}},{key:"buildDOM",value:function(){if(this.element)return this.element;var t=this,e=this.groupElements(),n=["control-groups","panels-wrap","panel-count-"+e.length],a=c.default.create({tag:"div",className:n,content:e}),o=c.default.create({tag:"div",className:this.formID+"-controls formeo-controls",content:[{tag:"div",className:"controls-toggle bg-primary",content:[{tag:"i",attrs:{className:"fa fa-angle-right","aria-hidden":"true"}}],action:{click:function(t){var e=(0,s.closest)(t.target,"formeo");e.parentElement.classList.toggle("hidden-controls"),c.default.repositionPanels(e),document.dispatchEvent(new CustomEvent("controlsCollapsed",{detail:{collapsed:e.parentElement.classList.contains("hidden-controls")}}))}}},a]}),i=o.getElementsByClassName("control-list");this.element=o,this.groups=i,this.currentGroup=i[0],this.actions={addElement:function(t){c.default.proWarning({type:t.target.lastChild.wholeText,video:t.target.getAttribute("data-control-type"),message:""})},addGroup:function(t){return console.log(t)}};for(var l=function(e){var n="formeo-controls-"+i[e];u.sortable||localStorage.removeItem(n),r.default.create(i[e],{animation:150,forceFallback:!0,fallbackClass:"control-moving",fallbackOnBody:!0,group:{name:"controls",pull:"clone",put:!1},onRemove:t.applyControlEvents.bind(t),sort:u.sortable,store:{get:function(){var t=localStorage.getItem(n);return t?t.split("|"):[]},set:function(t){var e=t.toArray();localStorage.setItem(n,e.join("|"))}}})},d=i.length-1;0<=d;d--)l(d);return o}}]),t}(),e.default=d},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=a(n(4)),i=n(3),l=a(n(2)),s=a(n(0)),c=n(1),u={},d=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stageID=n||(0,c.uuid)();var a=i.formData.stages.get(this.stageID),o=(0,c.getString)("stepindex");o=o.replace("{{index}}",i.formData.stages.size+1),a&&(o=a.title);var r={title:o,formSettings:[{tag:"input",id:"form-title",attrs:{className:"form-title",placeholder:(0,c.getString)("UntitledForm"),value:o,type:"text"},config:{label:(0,c.getString)("FormTitle")}},{tag:"input",id:"form-novalidate",attrs:{className:"form-novalidate",value:!1,type:"checkbox"},config:{label:(0,c.getString)("Formnovalidate")}},{tag:"input",id:"form-tags",attrs:{className:"form-tags",type:"text"},config:{label:(0,c.getString)("Tags")}}]};if(u=Object.assign(u,r,e),!i.formData.stages.get(this.stageID)){var l={title:u.title,id:this.stageID,settings:{},rows:[]};i.formData.stages.set(this.stageID,l)}return this.loadStage()}return o(t,[{key:"loadStage",value:function(){var t=this,e=this.dom,n=r.default.create(e.childNodes[0],{animation:150,scroll:!0,scrollSensitivity:1e3,direction:"horizontal",fallbackClass:"row-moving",forceFallback:l.default.isFireFoxEdge(),fallbackTolerance:0,group:{name:"stages",pull:!0,put:["controls","rows","columns"]},onAdd:t.onAdd.bind(t),onRemove:t.onRemove.bind(t),sort:!0,onStart:function(){s.default.activeStage=t.stage},onUpdate:function(){i.data.saveRowOrder(),i.data.save()},onSort:t.onSort,draggable:".stage-rows",handle:".item-handle"});return s.default.stages.set(this.stageID,{stage:this.stage,sortable:n}),s.default.activeStage=this.stage,i.formData.stages.get(this.stageID).rows.length&&s.default.loadRows(this.stage),e}},{key:"elementConfigs",value:function(){var t=this,e={header:{tag:"label",content:i.formData.stages.get(this.stageID).title||(0,c.getString)("untitled"),attrs:{id:"for-"+t.stageID,contenteditable:!0},className:"stage-label",action:{focusout:function(t){var e=t.target.id,n=t.target.innerText||t.target.textContent;e=e.replace("for-",""),i.data.saveStageLabel(e,n)}}},stage:{tag:"ul",attrs:{className:["stage","empty-stages"],id:t.stageID},fType:"stages",content:[]},settings:{tag:"div",attrs:{className:"formeo-settings",id:t.stageID+"-settings"},fType:"settings"}};return e.settings.content=u.formSettings.slice(),e}},{key:"onSort",value:function(){i.data.save()}},{key:"onAdd",value:function(t){s.default.activeStage=this.stage;var e=t.from,n=t.item,a=t.to,o=l.default.indexOfNode(n,a),r="stages"===e.fType?n:s.default.addRow(),c="columns"===e.fType,u="rows"===e.fType;if("controlGroup"===e.fType)return s.default.proWarning({type:t.item.firstChild.lastChild.wholeText,video:"dragndrop",message:""}),s.default.remove(n),s.default.remove(r),s.default.emptyClass(s.default.activeStage),i.data.save();if(c){var d=s.default.addColumn(r.id);d.appendChild(n),i.data.saveFieldOrder(d),s.default.emptyClass(d)}else u&&(r.appendChild(n),i.data.saveColumnOrder(r),s.default.emptyClass(r));return a.insertBefore(r,a.children[o]),s.default.columnWidths(r),i.data.saveRowOrder(a),s.default.checkSingle(),i.data.save()}},{key:"onRemove",value:function(){return i.data.save()}},{key:"dom",get:function(){var t=this;if(t.stage)return t.stage;var e=t.elementConfigs(),n=s.default.create({tag:"div",attrs:{className:"stage-wrap tab-pane",id:e.stage.attrs.id,role:"tabpanel"},content:[e.stage,e.settings],fType:"stages"});return t.stage=n.childNodes[0],n}}]),t}();e.default=d},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=a(n(4)),i=a(n(2)),l=a(n(0)),s=n(1),c=n(3),u={type:"field"},d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this;n.opts=Object.assign({},u,e),n.labels=n.panelNav();var a=n.panelsWrap();return n.panels=a.childNodes,n.currentPanel=n.panels[0],n.nav=n.navActions(),"field"===n.opts.type&&setTimeout(n.setPanelsHeight.bind(n),100),n.panelDisplay="slider",{content:[n.labels,a],nav:n.nav,actions:{resize:n.resizePanels.bind(n)}}}return o(t,[{key:"resizePanels",value:function(){var t=this.panelsWrap,e=t.parentElement.parentElement,n=390<parseInt(l.default.getStyle(e,"width"))||1<this.opts.panels.length;this.panelDisplay=n?"tabbed":"slider",t.parentElement.classList.toggle("tabbed-panels",n);var a=t.style,o=l.default.getStyle(this.currentPanel,"height");return a.height=o,a.height}},{key:"setPanelsHeight",value:function(){var t=document.getElementById(this.opts.id);this.slideToggle=t.querySelector(".field-edit"),this.slideToggle.style.display="block",this.slideToggle.style.position="absolute",this.slideToggle.style.opacity=0,this.resizePanels(),this.slideToggle.style.display="none",this.slideToggle.style.position="relative",this.slideToggle.style.opacity=1,this.slideToggle.style.height="auto"}},{key:"panelsWrap",value:function(){return this.panelsWrap=l.default.create({tag:"div",attrs:{className:"panels"},content:this.opts.panels}),"field"===this.opts.type&&this.sortableProperties(this.panelsWrap),this.panelsWrap}},{key:"sortableProperties",value:function(t){var e=this,n=t.getElementsByClassName("field-edit-group");return i.default.forEach(n,function(t){t.fieldID=e.opts.id,t.isSortable&&r.default.create(t,{animation:150,group:{name:"edit-"+t.editGroup,pull:!0,put:["properties"]},sort:!0,forceFallback:i.default.isFireFoxEdge(),fallbackOnBody:i.default.isFireFoxEdge(),fallbackClass:"sortable-fallback-field",handle:".prop-order",onSort:function(t){e.propertySave(t.to),e.resizePanels()}})})}},{key:"propertySave",value:function(t){var e=l.default.fields.get(this.opts.id);return c.data.save(t.editGroup,t,!1),e.instance.updatePreview()}},{key:"panelNav",value:function(){for(var t,e=this,n=this,a={tag:"div",attrs:{className:"panel-labels"},content:{tag:"div",content:[]}},o=this.opts.panels,r=0;r<o.length;r++)t={tag:"h5",action:{click:function(t){var e=i.default.indexOfNode(t.target,t.target.parentElement);n.currentPanel=n.panels[e];var a=t.target.parentElement.childNodes;n.nav.refresh(e),l.default.removeClasses(a,"active-tab"),t.target.classList.add("active-tab")}},content:o[r].config.label},delete o[r].config.label,0===r&&(t.className="active-tab"),a.content.content.push(t);var c={tag:"button",attrs:{className:"next-group",title:(0,s.getString)("controlGroups.nextGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:function(t){return e.nav.nextGroup(t)}},content:l.default.icon("triangle-right")},u={tag:"button",attrs:{className:"prev-group",title:(0,s.getString)("controlGroups.prevGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:function(t){return e.nav.prevGroup(t)}},content:l.default.icon("triangle-left")};return l.default.create({tag:"nav",attrs:{className:"panel-nav"},content:[u,a,c]})}},{key:"navActions",value:function(){var t=this,e=this,n={},a=this.currentPanel.parentElement,o=this.labels.querySelector(".panel-labels").firstChild,r=this.currentPanel.parentElement.childNodes,s=i.default.indexOfNode(this.currentPanel,a),c={},u=function(e){var n=o.childNodes;return l.default.removeClasses(n,"active-tab"),o.childNodes[e].classList.add("active-tab"),t.currentPanel=r[e],t.panelsWrap.style.height=l.default.getStyle(t.currentPanel,"height"),"field"===t.opts.type&&(t.slideToggle.style.height="auto"),t.currentPanel},d=function(t){"tabbed"===e.panelDisplay?o.removeAttribute("style"):o.style.transform="translateX(-"+t.nav+"px)",a.style.transform="translateX(-"+t.panel+"px)"};return n.refresh=function(t){void 0!==t&&(s=t,u(t)),e.resizePanels(),c={nav:o.offsetWidth*s,panel:a.offsetWidth*s},d(c)},n.nextGroup=function(){var e=s+1;if(e!==r.length)c={nav:o.offsetWidth*e,panel:a.offsetWidth*e},d(c),u(e),s++;else{var n={nav:o.style.transform,panel:a.style.transform};c={nav:o.offsetWidth*s+10,panel:a.offsetWidth*s+10},d(c),setTimeout(function(){o.style.transform=n.nav,a.style.transform=n.panel},150)}return t.currentPanel},n.prevGroup=function(){if(0!==s){var t=s-1;c={nav:o.offsetWidth*t,panel:a.offsetWidth*t},d(c),u(t),s--}else{var e=[o.style.transform,a.style.transform],n="translateX(10px)";o.style.transform=n,a.style.transform=n,setTimeout(function(){o.style.transform=e[0],a.style.transform=e[1]},150)}},n}}]),t}();e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o={add:{attr:function(t){a.default.addAttributePrompt("primary",t.message.attr,t.addAction)},option:function(t){t.addAction()}},click:{btn:function(t){t.action()}},save:function(){}},r={init:function(t){return this.opts=Object.assign({},o,t),this},add:{attrs:function(t){r.opts.add.attr(t)},options:function(t){r.opts.add.option(t)}},click:{btn:function(t){r.opts.click.btn(t)}},save:function(){}};e.default=r},function(t,e,n){n(12),t.exports=n(15)},function(t,e,n){(function(e,n){!function(e){function a(t,e,n,a){var o=Object.create((e||r).prototype),i=new g(a||[]);return o._invoke=d(t,n,i),o}function o(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function i(){}function l(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){this.arg=t}function u(t){function e(e,n){var a=t[e](n),i=a.value;return i instanceof c?Promise.resolve(i.arg).then(o,r):Promise.resolve(i).then(function(t){return a.value=t,a})}"object"==_typeof(n)&&n.domain&&(e=n.domain.bind(e));var a,o=e.bind(t,"next"),r=e.bind(t,"throw");e.bind(t,"return"),this._invoke=function(t,n){function o(){return e(t,n)}return a=a?a.then(o,o):new Promise(function(t){t(o())})}}function d(t,e,n){var a=E;return function(r,i){if(a==C)throw new Error("Generator is already running");if(a==k){if("throw"===r)throw i;return{value:void 0,done:!0}}for(;;){var l=n.delegate;if(l){if("return"===r||"throw"===r&&void 0===l.iterator[r]){n.delegate=null;var s=l.iterator.return;if(s&&"throw"===(c=o(s,l.iterator,i)).type){r="throw",i=c.arg;continue}if("return"===r)continue}var c;if("throw"===(c=o(l.iterator[r],l.iterator,i)).type){n.delegate=null,r="throw",i=c.arg;continue}if(r="next",i=void 0,!(u=c.arg).done)return a=S,u;n[l.resultName]=u.value,n.next=l.nextLoc,n.delegate=null}if("next"===r)n._sent=i,n.sent=a==S?i:void 0;else if("throw"===r){if(a==E)throw a=k,i;n.dispatchException(i)&&(r="next",i=void 0)}else"return"===r&&n.abrupt("return",i);if(a=C,"normal"===(c=o(t,e,n)).type){a=n.done?k:S;var u={value:c.arg,done:n.done};if(c.arg!==N)return u;n.delegate&&"next"===r&&(i=void 0)}else"throw"===c.type&&(a=k,r="throw",i=c.arg)}}}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function m(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(h.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:v}}function v(){return{value:void 0,done:!0}}var h=Object.prototype.hasOwnProperty,y="function"==typeof Symbol&&Symbol.iterator||"@@iterator",b="object"==_typeof(t),w=e.regeneratorRuntime;if(w)b&&(t.exports=w);else{(w=e.regeneratorRuntime=b?t.exports:{}).wrap=a;var E="suspendedStart",S="suspendedYield",C="executing",k="completed",N={},D=l.prototype=r.prototype;i.prototype=D.constructor=l,l.constructor=i,i.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):t.__proto__=l,t.prototype=Object.create(D),t},w.awrap=function(t){return new c(t)},s(u.prototype),w.async=function(t,e,n,o){var r=new u(a(t,e,n,o));return w.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},s(D),D[y]=function(){return this},D.toString=function(){return"[object Generator]"},w.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},w.values=m,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=void 0,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,a){return r.type="throw",r.arg=t,n.next=e,!!a}if(this.done)throw t;for(var n=this,a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=h.call(o,"catchLoc"),l=h.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n,a=this.tryEntries.length-1;0<=a;--a)if((n=this.tryEntries[a]).tryLoc<=this.prev&&h.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?this.next=o.finallyLoc:this.complete(r),N},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),p(e),N},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var a=e.completion;if("throw"===a.type){var o=a.arg;p(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:m(t),resultName:e,nextLoc:n},N}}}}("object"==_typeof(e)?e:"object"==("undefined"==typeof window?"undefined":_typeof(window))?window:"object"==("undefined"==typeof self?"undefined":_typeof(self))?self:this)}).call(this,n(13),n(14))},function(t){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(e=window)}t.exports=e},function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(t){if(s===setTimeout)return setTimeout(t,0);if((s===e||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):g=-1,f.length&&r())}function r(){if(!p){var t=a(o);p=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function i(t,e){this.fun=t,this.array=e}function l(){}var s,c,u=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:e}catch(t){s=e}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var d,f=[],p=!1,g=-1;u.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new i(t,e)),1!==f.length||p||a(r)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(){return[]},u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=a(n(5)),l=a(n(2)),s=n(1),c=n(3),u=a(n(6)),d=a(n(10)),f=a(n(0)),p=n(7),g=a(n(8)),m=a(n(20));n(21),n(22),n(23),n(24);var v={get formData(){return c.data.json}},h={},y=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a={allowEdit:!0,dataType:"json",localStorage:!0,container:".formeo-wrap",prefix:"formeo-",iconFontFallback:null,events:{},actions:{},controls:{},config:{rows:{},columns:{},fields:{}}},o=this;return o.container=e.container||a.container,f.default.container=o.container,f.default.sitekey=e.sitekey||"",f.default.prourl=e.prourl||"",f.default.get_pro_demo_url=e.get_pro_demo_url||function(){return"https://www.youtube.com/embed/skkRW4ZOo18"},this.resetForm=e.resetForm||!1,"string"==typeof o.container&&(o.container=document.querySelector(o.container)),delete e.container,h=l.default.merge(a,e),c.data.init(h,n),u.default.init(h.events),d.default.init(h.actions),v.dom=f.default,v.reset=c.data.reset,v.validator=m.default,f.default.setConfig=h.config,v.render=function(t){f.default.renderForm(t)},h.allowEdit&&(v.edit=this.init,this.init()),v}return r(t,[{key:"loadResources",value:function(){var t=[];h.style&&t.push(l.default.ajax(h.style,l.default.insertStyle));var e=document.getElementById("formeo-sprite");return h.svgSprite&&null===e&&t.push(l.default.ajax(h.svgSprite,l.default.insertIcons)),window.Promise.all(t)}},{key:"getFormSettings",value:function(){var t=f.default.getFormDefaultSettings(),e=(0,s.clone)(t);if(null!=c.formData.settings.get("formSettings")){var n=!0,a=!1,r=void 0;try{for(var i,l=Object.entries(e)[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=o(i.value,1)[0];Object.assign(e[u],c.formData.settings.get("formSettings")[u])}}catch(t){a=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}}c.formData.settings.set("formSettings",e),c.data.save();var d={tag:"ul",attrs:{className:"form-settings-edit"},content:[]},p=!0,g=!1,m=void 0;try{for(var v,h=Object.entries(e)[Symbol.iterator]();!(p=(v=h.next()).done);p=!0){var y=o(v.value,2),b=(u=y[0],y[1]),w=f.default.getConfigContainer(u,!1),E=!0,S=!1,C=void 0;try{for(var k,N=Object.entries(b)[Symbol.iterator]();!(E=(k=N.next()).done);E=!0){var D=o(k.value,2),x=D[0],T=D[1];w.content[1].content.push(f.default.getSettingItem(x,T,t[u][x],"formSettings","form-config",u))}}catch(t){S=!0,C=t}finally{try{!E&&N.return&&N.return()}finally{if(S)throw C}}d.content.push(w)}}catch(t){g=!0,m=t}finally{try{!p&&h.return&&h.return()}finally{if(g)throw m}}return d}},{key:"getFormSettingControl",value:function(){var t=this,e={tag:"button",content:f.default.icon("edit"),attrs:{className:["btn btn-primary item-edit-toggle"],type:"button",title:(0,s.getString)("edit-form")},meta:{id:"edit"},action:{click:function(t){var e=(0,s.closest)(t.target,"formeo-editor"),n="form-settings",a="editing-"+n,o=e.querySelector("."+n+"-edit");e.classList.contains(a)?i.default.slideUp(o,666,function(){i.default.slideDown(o.nextSibling,666,function(){e.classList.remove(a)})}):i.default.slideUp(o.nextSibling,666,function(){i.default.slideDown(o,666,function(){e.classList.add(a)})})}}};return{tag:"div",className:"form-settings-actions group-actions control-count-2",content:[{tag:"div",className:"action-btn-wrap",content:[{tag:"button",content:[{tag:"i",attrs:{className:"fa fa-repeat","aria-hidden":!0}}],attrs:{className:"btn btn-warning item-reset-form",type:"button",title:(0,s.getString)("reset-form")},action:{click:function(e){if(c.formData.rows.size||c.formData.stages.size){var n=new CustomEvent("confirmReset",{detail:{confirmationMessage:(0,s.getString)("confirmresetform"),resetAction:t.resetForm,btnCoFrds:f.default.coords(e.target),rows:f.default.rows,rowCount:f.default.rows.size}});document.dispatchEvent(n)}else f.default.alert("info",(0,s.getString)("nofields"))}},meta:{id:"delete"}},e]}]}}},{key:"init",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(t){return void n(t)}return i.done?void t(l):Promise.resolve(l).then(function(t){a("next",t)},function(t){a("throw",t)})}("next")})}}(_regeneratorRuntime().mark(function t(){var e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this).formID=c.formData.id,v.controls=new p.Controls(h.controls,e.formID),e.stages=e.buildStages(),e.formSettings=e.getFormSettings(),e.formSettingControl=e.getFormSettingControl(),e.render(),t.abrupt("return",v);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"buildStages",value:function(){var t=[],e=function(t){return new g.default(h,t)};return c.formData.stages.size?c.formData.stages.forEach(function(n,a){t.push(e(a))}):t.push(e()),t[0].classList.add("active"),t[0].classList.add("show"),t}},{key:"render",value:function(){var t=this,e=v.controls.element,n=[];n.push(t.stages);var a={tag:"div",className:"formeo formeo-editor tab-content",attrs:{id:t.formID},content:[e,{tag:"div",className:"form-wrapper",content:[t.formSettingControl,t.formSettings,{tag:"div",className:"form-container",content:n}]}]},o=f.default.create(a);t.container.innerHTML="",t.container.appendChild(o),document.getElementsByTagName("body")[0].onresize=function(){var t=document.getElementsByClassName("formeo-editor")[0];f.default.repositionPanels(t)},u.default.formeoLoaded=new CustomEvent("formeoLoaded",{detail:{formeo:v}}),document.dispatchEvent(u.default.formeoLoaded),f.default.toggleFormDeleteAction(),f.default.checkSingle()}}]),t}();void 0!==window&&(y.dom=f.default,window.Formeo=y),e.default=y},function(t,e){e=t.exports=function(){for(var t,n="",a=0;32>a;a++)t=0|16*e.random(),4<a&&21>a&&!(a%4)&&(n+="-"),n+=(12===a?4:16===a?8|3&t:t).toString(16);return n};var n=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;e.isUUID=function(t){return n.test(t)},e.random=function(){return Math.random()}},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=a(n(4)),i=a(n(0)),l=a(n(2)),s=a(n(5)),c=n(3),u=n(1),d=a(n(9)),f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this,a=void 0,o=n.rowID=e||(0,u.uuid)(),s={columns:[],id:n.rowID,config:{fieldset:!1,legend:"",inputGroup:!1},attrs:{className:"f-row"},conditions:[]},f=c.formData.rows.get(o);c.formData.rows.set(o,l.default.merge(s,f));var p=new d.default({panels:n.editWindow.content,type:o});p.tag="div",p.className="row-edit panels-wrap tabbed-panels",p.action={click:function(t){var e=(0,u.closestFtype)(t.target),n=e.getElementsByClassName("row-edit")[0].getElementsByClassName("panel-labels")[0].getElementsByTagName("h5")[0],a=e.getElementsByClassName("stage-columns");if(e.classList.contains("editing-row")&&n.classList.contains("active-tab"))for(var o=0;o<a.length;o++)a[o].classList.remove("hide-column");else for(var r=0;r<a.length;r++)a[r].classList.add("hide-column")}},a={tag:"li",className:"stage-rows empty-rows",dataset:{hoverTag:(0,u.getString)("row"),editingHoverTag:(0,u.getString)("editing.row")},id:o,content:[i.default.actionButtons(o,"row"),p],fType:"rows"},a=i.default.create(a);var g=r.default.create(a,{animation:150,fallbackClass:"column-moving",forceFallback:!0,group:{name:"rows",pull:!0,put:["rows","controls","columns"]},sort:!0,onRemove:n.onRemove,onEnd:n.onEnd,onAdd:n.onAdd,onSort:n.onSort,draggable:".stage-columns",handle:".item-handle",filter:".resize-x-handle"});return i.default.rows.set(o,{row:a,sortable:g}),a}return o(t,[{key:"wrapCondition",value:function(t){var e=t.content[0],n=t.content[1],a=t.content[2];return e.action={change:function(t){i.default.conditionSourceChange(t);var e=i.default.conditionPositions(t,"source");c.data.saveConditionalLogics(e),e=i.default.conditionPositions(t,"value"),c.data.saveConditionalLogics(e)}},n.action={change:function(t){var e=i.default.conditionPositions(t,"value");c.data.saveConditionalLogics(e)}},a.action={change:function(t){var e=i.default.conditionPositions(t,"operator");c.data.saveConditionalLogics(e)}},t.content[0]=e,t.content[1]=n,t.content[2]=a,{tag:"li",className:"condition",content:[t,{tag:"div",className:"condition-controls",content:[this.removeCondition]}]}}},{key:"filterFieldsSelectRadio",value:function(t){var e=[];return c.formData.fields.forEach(function(n){t.includes(n.id)&&("select"==n.tag||"input"==n.tag&&"radio"==n.attrs.type)&&e.push(n)}),e}},{key:"getConditionValidFields",value:function(t){var e=[],n=[];return c.formData.rows.forEach(function(e){e.id!=t&&(n=n.concat(e.columns))}),n.length&&c.formData.columns.forEach(function(t){n.includes(t.id)&&(e=e.concat(t.fields))}),e=this.filterFieldsSelectRadio(e)}},{key:"addCondition",value:function(t,e){for(var n=this.getConditionValidFields(t),a=[{label:(0,u.getString)("condition-choose-source"),value:"choose",selected:!0}],o=0;o<n.length;o++)a.push({label:n[o].config.label,value:n[o].id});var r=this.wrapCondition({tag:"div",className:"condition-inputs",content:[{tag:"select",className:"condition-source condition-input",options:a},{tag:"select",className:"condition-value condition-input"},{tag:"select",className:"condition-operator condition-input",options:[{label:"AND",value:"AND",selected:!0},{label:"OR",value:"OR"}],action:{change:function(t){var e=i.default.conditionPositions(t,"operator");c.data.saveConditionalLogics(e)}}}]});e.append(i.default.create(r))}},{key:"resizeConditions",value:function(t){var e=(0,u.closest)(t,"panel-conditions"),n=(0,u.closest)(t,"panels"),a=s.default.getStyle(e,"height");n.style.height=a}},{key:"processConditions",value:function(t){for(var e=t.conditions,n=void 0,a=[],o=0;o<e.length;o++)n=e[o],n=this.wrapCondition(n),a.push(n);return a}},{key:"conditions",value:function(t){var e=this,n=this;return[{tag:"div",className:"f-panel-wrap",content:[{tag:"ul",className:"conditions",content:[n.processConditions(t)]}]},{tag:"div",className:"panel-action-buttons",content:[{tag:"button",className:"add-condition",content:(0,u.getString)("addcondition"),action:{click:function(t){t.preventDefault();var a=t.target.parentElement.parentElement.getElementsByClassName("conditions")[0],o=(0,u.closestFtype)(t.target);e.addCondition(o.id,a),n.resizeConditions(t.target);var r=i.default.conditionPositions(t,"add");c.data.saveConditionalLogics(r)}}}]}]}},{key:"onSort",value:function(t){c.data.saveColumnOrder(t.target),c.data.save()}},{key:"onRemove",value:function(t){i.default.columnWidths(t.from),c.data.saveColumnOrder(t.target),i.default.emptyClass(t.from)}},{key:"onEnd",value:function(t){t.from.classList.contains("empty-rows")&&i.default.removeEmpty(t.from),c.data.save()}},{key:"onAdd",value:function(t){var e=t.from,n=t.item,a=t.to,o="rows"===e.fType,r="columns"===e.fType,s="controlGroup"===e.fType,u=void 0;if(o)u=n;else if(r){var d=l.default.get(c.registeredFields[n.id],"meta");"layout"===d.group?"layout-column"===d.id&&i.default.addColumn(a.id):(u=i.default.addColumn(a.id),i.default.addField(u.id,n.id))}else s&&i.default.proWarning({type:t.item.firstChild.lastChild.wholeText,video:"dragndrop",message:""});(r||s)&&i.default.remove(n),c.data.saveColumnOrder(a),i.default.columnWidths(a),i.default.emptyClass(a),c.data.save()}},{key:"removeCondition",get:function(){var t=this;return{tag:"button",attrs:{className:"condition-delete condition-control btn-danger",title:(0,u.getString)("remove-condition")},content:i.default.icon("remove"),action:{click:function(e){e.preventDefault();var n=e.target.parentElement.parentElement,a=(0,u.closest)(e.target,"conditions");s.default.slideUp(n,666,function(n){var o=i.default.conditionPositions(e,"delete");i.default.remove(n),t.resizeConditions(a),c.data.saveConditionalLogics(o,"delete")})}}}}},{key:"editWindow",get:function(){var t=this,e=c.formData.rows.get(t.rowID),n={tag:"div",className:"panels row-edit group-config"},a={tag:"label",content:(0,u.getString)("row.settings.fieldsetWrap")},o=[a,{tag:"div",className:"input-group",content:[{tag:"span",className:"input-group-addon",content:{tag:"input",id:t.rowID+"-fieldset",attrs:{type:"checkbox",checked:e.config.fieldset,ariaLabel:(0,u.getString)("row.settings.fieldsetWrap.aria")},action:{click:function(t){e.config.fieldset=t.target.checked,c.data.save()}}}},{tag:"input",attrs:{type:"text",ariaLabel:(0,u.getString)("legendfieldset"),value:e.config.legend,placeholder:"Legend"},action:{input:function(t){e.config.legend=t.target.value,c.data.save()}},className:""}]}];o=i.default.formGroup(o);var r=Object.assign({},a,{content:(0,u.getString)("columnwidths")}),l=Object.assign({},a,{content:"Layout Preset",className:"col-sm-4 form-control-label"}),s={tag:"div",className:"col-sm-8",content:i.default.columnPresetControl(t.rowID)},d=i.default.formGroup([l,s],"row"),f={tag:"div",className:"f-panel row-config",config:{label:(0,u.getString)("containersettings")},content:[o,i.default.create("hr"),r,d]},p={tag:"div",config:{label:(0,u.getString)("conditions")},className:"f-panel panel-conditions",content:t.conditions(e)};return n.content=[f,p],n}}]),t}();e.default=f},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=a(n(4)),i=n(3),l=a(n(2)),s=a(n(6)),c=a(n(0)),u=n(1),d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this,a=n.columnID=e||(0,u.uuid)();n.columnData=i.formData.columns.get(a),i.formData.columns.set(a,l.default.merge({fields:[],id:a,config:{},className:[]},n.columnData));var o={tag:"li",className:"resize-x-handle",action:{mousedown:n.resize,touchstart:n.resize},content:[c.default.icon("triangle-down"),c.default.icon("triangle-up")]},d={tag:"ul",className:["stage-columns","empty-columns"],dataset:{hoverTag:(0,u.getString)("column")},action:{mouseup:function(t){var e=t.target.parentElement;e.resizing&&(e.resizing=!1,e.parentElement.classList.remove("resizing-columns"))}},id:n.columnID,content:[c.default.actionButtons(n.columnID),{tag:"li",className:"column-edit group-config"},o],fType:"columns"};d=c.default.create(d),this.processConfig(d),s.default.columnResized=new CustomEvent("columnResized",{detail:{column:d,instance:n}});var f=this.sortable=r.default.create(d,{animation:150,fallbackClass:"field-moving",forceFallback:l.default.isFireFoxEdge(),group:{name:"columns",pull:!0,put:["columns","controls"],revertClone:!0},sort:!0,onEnd:n.onEnd,onAdd:n.onAdd,onSort:n.onSort,onRemove:n.onRemove,draggable:".stage-fields",handle:".item-handle"});return c.default.columns.set(a,{column:d,sortable:f}),d}return o(t,[{key:"onSort",value:function(t){return i.data.saveFieldOrder(t.target)}},{key:"processConfig",value:function(t){var e=i.formData.columns.get(this.columnID);e.config.width&&(t.dataset.colWidth=e.config.width,t.style.width=e.config.width,t.style.float="left")}},{key:"onAdd",value:function(t){var e=t.from,n=t.item,a=t.to,o="columns"===e.fType;"controlGroup"===e.fType&&(c.default.proWarning({type:t.item.firstChild.lastChild.wholeText,video:"dragndrop",message:""}),c.default.remove(n)),c.default.fieldOrderClass(a),o&&c.default.fieldOrderClass(e),c.default.emptyClass(t.to),i.data.save(),a.classList.remove("hovering-column"),c.default.checkSingle()}},{key:"onRemove",value:function(t){t.from.parent&&(c.default.columnWidths(t.from.parentElement),i.data.saveColumnOrder(t.from.parentElement)),c.default.emptyClass(t.from)}},{key:"onEnd",value:function(t){var e=t.to,n=t.from;return n.classList.contains("empty-columns")?void c.default.removeEmpty(t.from):(c.default.fieldOrderClass(e),c.default.fieldOrderClass(n),n.parent&&c.default.columnWidths(n.parentElement),i.data.save(),void(e&&e.classList.remove("hovering-column")))}},{key:"resize",value:function(t){var e={},n=t.target.parentElement,a=n.nextSibling||n.previousSibling,o=n.parentElement,r=c.default.getStyle(o),l=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),s=void 0,d=void 0;e.move=function(t){(function(t){var o="touchmove"===t.type?t.touches[0].clientX:t.clientX,r=e.colStartWidth+o-e.startX,i=e.sibStartWidth-o+e.startX,l=function(t){return t/e.rowWidth*100};s=parseFloat(l(r)),d=parseFloat(l(i)),n.dataset.colWidth=(0,u.numToPercent)(s.toFixed(1)),a.dataset.colWidth=(0,u.numToPercent)(d.toFixed(1)),n.style.width=(0,u.numToPercent)(s),a.style.width=(0,u.numToPercent)(d)})(t),e.resized=!0},e.stop=function(){if(window.removeEventListener("mousemove",e.move),window.removeEventListener("mouseup",e.stop),window.removeEventListener("touchmove",e.move),window.removeEventListener("touchend",e.stop),e.resized){var t=i.formData.columns.get(n.id),o=i.formData.columns.get(a.id),r=n.parentElement;r.querySelector(".column-preset").value="custom",r.classList.remove("resizing-columns"),t.config.width=n.dataset.colWidth,o.config.width=a.dataset.colWidth,e.resized=!1,i.data.save()}},e.start=function(t){e.startX="touchstart"===t.type?t.touches[0].clientX:t.clientX,o.classList.add("resizing-columns");var r=/\bcol-\w+-\d+/g;n.className.replace(r,""),a.className.replace(r,""),e.colStartWidth=n.offsetWidth||c.default.getStyle(n,"width"),e.sibStartWidth=a.offsetWidth||c.default.getStyle(a,"width"),e.rowWidth=o.offsetWidth-l,window.addEventListener("mouseup",e.stop,!1),window.addEventListener("mousemove",e.move,!1),window.addEventListener("touchend",e.stop,!1),window.addEventListener("touchmove",e.move,!1)}(t)}}]),t}();e.default=d},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(3),l=a(n(5)),s=a(n(2)),c=a(n(10)),u=a(n(0)),d=a(n(7)),f=a(n(9)),p=n(1),g=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=this,o=i.formData.fields.get(e)||(0,p.clone)(i.registeredFields[e]);"clone"==n&&"template"in o.attrs&&delete o.attrs.template,a.fieldID=o.id||(0,p.uuid)(),a.metaID=o.meta.id,o.id=a.fieldID,i.formData.fields.set(a.fieldID,o),this.fieldData=o;var r={tag:"li",attrs:{className:"stage-fields field-type-"+o.meta.id},id:a.fieldID,content:[u.default.actionButtons(a.fieldID,"field"),a.fieldEdit()],panelNav:a.panelNav,dataset:{hoverTag:(0,p.getString)("field")},fType:"fields",action:{mouseenter:function(){document.getElementById(a.fieldID).classList.add("hovering-field")},mouseleave:function(){document.getElementById(a.fieldID).classList.remove("hovering-field")}}};return r=u.default.create(r),u.default.fields.set(a.fieldID,{field:r,instance:a}),a.preview=u.default.create(a.fieldPreview()),r.appendChild(a.preview),r}return r(t,[{key:"updatePreview",value:function(){var t=this,e=s.default.copyObj(i.formData.fields.get(t.fieldID));console.log(s.default.get(e,"config.label"));var n=u.default.create(e,!0);return u.default.empty(t.preview),t.preview.appendChild(n),n}},{key:"editPanel",value:function(t){var e,n=this,a=this,o=i.formData.fields.get(a.fieldID),r=void 0,l=void 0,c={tag:"div",className:"f-panel-wrap",content:[]};return o[t]&&(l={tag:"ul",attrs:{className:["field-edit-group","field-edit-"+t]},editGroup:t,isSortable:"options"===t,content:[]},"array"===(r=u.default.contentType(o[t]))?(e=o[t],c.content.push(a.panelHeading({panelArray:e,panelType:t,fieldData:o}))):e=Object.keys(o[t]),c.content.push(l),s.default.forEach(e,function(e,i){if(n.isAllowedAttr(e)){var s={i:i,dataProp:e,fieldData:o,panelType:t,propType:r};l.content.push(a.panelContent(s))}})),c}},{key:"panelHeading",value:function(t){var e={tag:"div",className:"prop-heading-wrap",content:[]},n=!0,a=!1,r=void 0;try{for(var i,l=Object.entries(t.panelArray[0])[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=o(i.value,1)[0],c=t.fieldData.tag.toLowerCase();null!=t.fieldData.attrs&&null!=t.fieldData.attrs.type&&(c+="-"+t.fieldData.attrs.type.toLowerCase()),c+="-"+t.panelType+"-"+s,e.content.push({tag:"label",className:c,content:(0,p.getString)(c)})}}catch(t){a=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw r}}return e}},{key:"panelContent",value:function(t){var e=this,n=t.panelType,a=t.dataProp,o=i.formData.fields.get(e.fieldID);a="string"==typeof a?a:t.i;var r=(0,p.uuid)(),s=o[n][a],c={tag:"div",className:["prop-inputs","form-group"],content:e.editPanelInputs(a,s,n,r)},d={tag:"li",className:[n+"-"+a+"-wrap","prop-wrap"],id:r,content:[]},f={tag:"button",attrs:{type:"button",className:"btn btn-primary prop-order prop-control",title:(0,p.getString)("order-option")},content:u.default.icon("move-vertical")},g={tag:"div",className:"prop-controls",content:[{tag:"button",attrs:{type:"button",className:"btn btn-danger prop-remove prop-control",title:(0,p.getString)("remove-"+n)},action:{click:function(){l.default.slideUp(document.getElementById(d.id),666,function(t){var o=t.parentElement,r=i.formData.fields.get(e.fieldID),l=r[n];u.default.remove(t),Array.isArray(l)?l.splice(a,1):delete l[a],i.data.save(n,o),u.default.empty(e.preview);var s=u.default.create(r,!0);e.preview.appendChild(s),e.resizePanelWrap()})}},content:u.default.icon("remove")}]};return"array"===t.propType&&(c.className.push("f-input-group"),g.content.unshift(f)),d.propData=o[n][a],this.isAllowedAttr(a)?(d.content.push(g,c),d.className.push("control-count-"+g.content.length),d):""}},{key:"escapeRegExp",value:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"unescapeRegExp",value:function(t){return t.replace(/[\\]/g,"&")}},{key:"editPanelInputs",value:function(t,e,n,a){var o=this,r=[],l=i.formData.fields.get(o.fieldID);l.attrs.placeholder=l.attrs.placeholder?l.attrs.placeholder:l.config.label;var c="options"===n;return r.push(function e(r,d){var f=u.default.contentType(d,r),g="number"==typeof t,m=n+"."+r;g&&(m=n+"["+t+"]."+r);var v=function(t,e,n){var a=(0,p.getString)("placeholder."+t);return{string:{className:"form-control",type:"text",value:e,placeholder:a},boolean:{get type(){var e="checkbox";return"select"===o.fieldData.tag&&"selected"===t&&(e="radio"),o.fieldData.attrs&&"radio"===o.fieldData.attrs.type&&"selected"===t&&(e="radio"),e},value:e},number:{type:"number",value:e},array:{className:""},textarea:{placeholder:a,rows:8}}[n]},h=function(t){return(0,p.getString)(n+"."+t)||s.default.capitalize(t)},y={array:function(e,r){return{fMap:m,tag:"select",id:t+"-"+a,attrs:v(e,r,"array"),config:{label:h(e),hideLabel:c},content:r.map(function(t){return{tag:"option",attrs:{value:t.value,selected:t.selected},content:t.label}}),action:{change:function(a){var r=[],u=l[n][t],d=(c?u[e]:u).map(function(t){t.selected;var e=function(t,e){var n={};for(var a in t)0<=e.indexOf(a)||Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}(t,["selected"]);return r.push(e.value),e});d[r.indexOf(a.target.value)].selected=!0,c&&(t=s.default.indexOfNode(a.target.closest(".prop-wrap")),m=n+"["+t+"]."+e),s.default.set(l,m,d),i.data.save(),o.updatePreview()}}}},string:function(e,r){var u={fMap:m,tag:"input",id:t+"-"+a,attrs:v(e,r,"string"),action:{change:function(a){c&&(t=s.default.indexOfNode(a.target.closest(".prop-wrap")),m=n+"["+t+"]."+e);var r=a.target.value;return s.default.isHtml(r)?void(a.target.value=s.default.stripHtml(r)):(s.default.set(l,m,"pattern"==e?o.escapeRegExp(r):r),i.data.save(),void o.updatePreview())}}};return g||(u.config={label:h(e)}),u},textarea:function(e,r){var u={fMap:m,tag:"textarea",id:t+"-"+a,attrs:v(e,r,"textarea"),content:r,action:{change:function(a){c&&(t=s.default.indexOfNode(a.target.closest(".prop-wrap")),m=n+"["+t+"]."+e),s.default.set(l,m,a.target.value),i.data.save(),o.updatePreview()}}};return g||(u.config={label:h(e)}),u},boolean:function(e,r){var d={tag:"input",attrs:v(e,r,"boolean"),fMap:m,id:t+"-"+a,name:o.fieldID+"-selected",action:{change:function(a){("select"==l.tag||l.attrs.type&&"radio"==l.attrs.type)&&l.options.forEach(function(t){t.selected=!1}),c&&(t=s.default.indexOfNode(a.target.closest(".prop-wrap")),m=n+"["+t+"]."+e),s.default.set(l,m,a.target.checked),i.data.save(),o.updatePreview()}}};return r&&(d.attrs.checked=r),g?d={tag:"span",className:"f-addon",content:u.default.checkbox(d)}:d.config={label:h(e)},d},object:function(t,n){var a=[];for(var o in n)if(s.default.get(n,o)){if(c&&"input"==l.tag&&"name"==o){delete o.name;continue}Object.prototype.hasOwnProperty.call(n,o)&&a.push(e(o,n[o]))}return a}};return y.number=y.string,y[f](r,d)}(t,e)),r}},{key:"isAllowedAttr",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"type",e=!0,n=i.registeredFields[this.metaID].config.disabledAttrs;return n&&(e=!s.default.inArray(t,n)),e}},{key:"getElementData",value:function(t){for(var e=this.metaID,n=0;n<d.default.length;n++)if(d.default[n].meta.id==e){var a=d.default[n][t];return Array.isArray(a)&&(a=a[0]),a}return{}}},{key:"getNextChildIndex",value:function(t){return t.hasChildNodes?t.childNodes.length:0}},{key:"addAttribute",value:function(t,e){if(!this.isAllowedAttr(t)){var n=(0,p.getString)("attributenotpermitted");n=n.replace("{{attr}}",t),u.default.alert("warning",n)}var a=this,o=document.getElementById(a.fieldID).querySelector(".field-edit-attrs"),r=s.default.hyphenCase(t),l=i.formData.fields.get(a.fieldID);"string"==typeof e&&s.default.inArray(e,["true","false"])&&(e=JSON.parse(e),"pattern"==t&&(e=a.unescapeRegExp(e))),l.attrs[r]=e;var c={dataObj:l,dataProp:r,i:Object.keys(l.attrs).length,panelType:"attrs"},d=o.querySelector(".attrs-"+r+"-wrap"),f=a.panelContent(c);if(f){var g=u.default.create(f);d?o.replaceChild(g,d):o.appendChild(g),i.data.save(c.panelType,o),a.updatePreview(),a.resizePanelWrap()}}},{key:"addOption",value:function(){var t=this,e=u.default.fields.get(t.fieldID).field,n=i.formData.fields.get(t.fieldID),a=t.getElementData("options"),o=e.querySelector(".field-edit-options"),r=(0,p.cleanObj)(a);n.options.push(r);var l={i:t.getNextChildIndex(o),dataProp:r,dataObj:n,panelType:"options",propType:"array"};o.appendChild(u.default.create(t.panelContent(l))),t.resizePanelWrap(),i.data.save(),u.default.empty(t.preview);var s=u.default.create(i.formData.fields.get(t.fieldID),!0);t.preview.appendChild(s)}},{key:"panelEditButtons",value:function(t){var e=this;return{tag:"div",attrs:{className:"panel-action-buttons"},content:[{tag:"button",attrs:{type:"button",className:"add-"+t+" btn btn-primary"},content:(0,p.getString)("panelEditButtons."+t),action:{click:function(n){var a={btnCoords:u.default.coords(n.target)};"attrs"===t?(a.addAction=e.addAttribute.bind(e),a.message={attr:(0,p.getString)("action.add.attrs.attr"),value:(0,p.getString)("action.add.attrs.value")}):"options"===t&&(a.addAction=e.addOption.bind(e));var o=s.default.capitalize(t),r=new CustomEvent("onAdd"+o,{detail:a});c.default.add[t](a),document.dispatchEvent(r)}}}]}}},{key:"fieldEdit",value:function(){var t=this,e=[],n=["object","array"],a=["config","meta","action"],o=i.formData.fields.get(t.fieldID),r=Object.keys(o).filter(function(t){return!s.default.inArray(t,a)}),l={tag:"div",className:["field-edit","slide-toggle","panels-wrap"]};s.default.forEach(r,function(a){var r=u.default.contentType(o[a]);if(s.default.inArray(r,n)){var i={tag:"div",attrs:{className:"f-panel "+a+"-panel"},config:{label:(0,p.getString)("panelLabels."+a)||""},content:[t.editPanel(a),t.panelEditButtons(a)],action:{}};e.push(i)}});var c={panels:e,id:t.fieldID};if(e.length){var d=t.panels=new f.default(c);l.className.push("panel-count-"+e.length),l.content=d.content,t.panelNav=d.nav,t.resizePanelWrap=d.actions.resize}else setTimeout(function(){var e=u.default.fields.get(t.fieldID).field,n=e.querySelector(".item-edit-toggle"),a=e.querySelector(".field-actions"),o=a.getElementsByTagName("button");a.style.maxWidth=24*o.length+"px",u.default.remove(n)},0);return l}},{key:"fieldPreview",value:function(){var t=this,e=this,n=(0,p.clone)(i.formData.fields.get(e.fieldID));return n.id="prev-"+e.fieldID,{tag:"div",attrs:{className:"field-preview"},content:u.default.create(n,!0),action:{change:function(t){var n=t.target;if(n.fMap){var a=i.formData.fields.get(e.fieldID),o=n.checked,r=n.type,l=n.fMap;if(s.default.inArray(r,["checkbox","radio"])){var c=a.options;"radio"===r&&c.forEach(function(t){t.selected=!1}),s.default.set(a,l,o),i.data.save()}}},click:function(t){"true"===t.target.contentEditable&&t.preventDefault()},input:function(t){var n=i.formData.fields.get(e.fieldID),a="content";t.target.fMap&&(a=t.target.fMap);var o=function(){"true"===t.target.contentEditable?("config.label"==a&&s.default.isHtml(t.target.innerHTML)&&(t.target.innerHTML=s.default.stripHtml(t.target.innerHTML),t.target.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()),""==t.target.innerHTML&&(t.target.innerHTML=" "),s.default.set(n,a,t.target.innerHTML)):s.default.set(n,a,t.target.value)};o(),(0,p.closest)(t.target,"field-preview").previousSibling.querySelector(".attrs-placeholder-wrap")||(a="attrs.placeholder",o()),i.data.save("field",e.fieldID)},focusout:function(){t.updatePreview()}}}}}]),t}();e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n,a=0;a<e.length;a++)(n=e[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),i=n(1),l=[],s=[],c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return a(t,[{key:"validateOptions",value:function(t){if(!Object.prototype.hasOwnProperty.call(t,"options"))return!0;var e=!0;return t.options.forEach(function(t){0==e||(""==t.label&&(e=!1),""==t.value&&(e=!1))}),e}},{key:"getFieldLabelAndId",value:function(t){var e=t.config.label||"";return""!=e&&(e+=" - "),e+((0,i.ucfirst)(t.meta.id)||"")}},{key:"validate",value:function(){var t=this;l=[],s=[];var e=!0,n={input:function(e){var n=t.validateOptions(e);return""==(e.attrs.type||"")&&(l.push((0,i.getString)("input-invalid-type",t.getFieldLabelAndId(e))),n=!1),0==n&&l.push((0,i.getString)("input-"+(e.attrs.type||"all")+"-option-invalid",t.getFieldLabelAndId(e))),n},select:function(e){var n=t.validateOptions(e);return 0==n&&l.push((0,i.getString)("select-option-invalid",t.getFieldLabelAndId(e))),n}};return o.formData.fields.forEach(function(a){switch(a.tag.toLowerCase()){case"input":case"textarea":case"select":a.attrs.name&&""!=a.attrs.name||(e=!1,s.push(t.getFieldLabelAndId(a)))}n[a.tag]&&(e=e&&n[a.tag](a))}),this.nameMissing&&(l=Array.prototype.concat([this.nameMissing],l)),0!=this.errors.length&&r.default.alert("danger",this.errors.join("<br>")),e}},{key:"errors",get:function(){return l}},{key:"nameMissing",get:function(){return 0==s.length?"":(0,i.getString)("missing-name-attribute-field",s.join(", "))}}]),t}());e.default=c},function(){"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e,n=Object(t),a=1;a<arguments.length;a++)if(null!=(e=arguments[a]))for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n})},function(){"function"!=typeof Object.values&&(Object.values=function(t){for(var e=Object.keys(t),n=e.length,a=Array(n);n--;)a[n]=t[e[n]];return a})},function(){function t(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(t+""))}),this.appendChild(e)}function e(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(t+""))}),this.insertBefore(e,this.firstChild)}function n(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(t+""))}),this.parentNode.insertBefore(e,this)}function a(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach(function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(t+""))}),this.parentNode.insertBefore(e,this.nextSibling)}function o(){null!==this.parentNode&&this.parentNode.removeChild(this)}function r(){var t,e=this.parentNode,n=arguments.length;if(e)for(n||e.removeChild(this);n--;)"object"==_typeof(t=arguments[n])?t.parentNode&&t.parentNode.removeChild(t):t=this.ownerDocument.createTextNode(t),n?e.insertBefore(t,this.previousSibling):e.replaceChild(t,this)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(i){i.hasOwnProperty("append")||Object.defineProperty(i,"append",{configurable:!0,enumerable:!0,writable:!0,value:t}),i.hasOwnProperty("prepend")||Object.defineProperty(i,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:e}),i.hasOwnProperty("before")||Object.defineProperty(i,"before",{configurable:!0,enumerable:!0,writable:!0,value:n}),i.hasOwnProperty("after")||Object.defineProperty(i,"after",{configurable:!0,enumerable:!0,writable:!0,value:a}),i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:o}),i.replaceWith||(i.replaceWith=r)})},function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n="prototype",a=t.Element[n],o=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},l=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],a=0,o=n.length;a<o;a++)this.push(n[a]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(l[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==s(this,t+="")},u.add=function(){var t,e=arguments,n=0,a=e.length,o=!1;do{t=e[n]+"",-1===s(this,t)&&(this.push(t),o=!0)}while(++n<a);o&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,a=0,o=n.length,r=!1;do{for(t=n[a]+"",e=s(this,t);-1!==e;)this.splice(e,1),r=!0,e=s(this,t)}while(++a<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),a=n?!0!==e&&"remove":!1!==e&&"add";return a&&this[a](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(a,e,f)}catch(t){(void 0===t.number||-2146823252===t.number)&&(f.enumerable=!1,o.defineProperty(a,e,f))}}else o[n].__defineGetter__&&a.__defineGetter__(e,d)}}(window.self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,a=arguments.length;for(n=0;n<a;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}())}])});
//# sourceMappingURL=formbuilder.min.js.map
